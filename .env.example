# Apple Container CLI Configuration for Mac Studio
# Complete ninaivalaigal stack: PostgreSQL + PgBouncer + FastAPI

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Postgres (host -> container:5432)
POSTGRES_HOST=localhost
POSTGRES_PORT=5433
HOST_PORT=5433

# Credentials
POSTGRES_USER=nina
POSTGRES_PASSWORD=change_me_securely
POSTGRES_DB=nina

# Data volume path on Mac Studio (Note: volume permissions need work)
DB_VOLUME=$HOME/ninaivalaigal/volumes/db

# Container settings
CONTAINER_NAME=nv-db
IMAGE=pgvector/pgvector:pg15
WAIT_SEC=90

# =============================================================================
# PGBOUNCER CONFIGURATION
# =============================================================================
PGBOUNCER_PORT=6432
PGBOUNCER_CONTAINER_NAME=nv-pgbouncer
PGBOUNCER_IMAGE=pgbouncer/pgbouncer:latest

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================
API_PORT=13370
API_CONTAINER_NAME=nv-api
API_IMAGE=python:3.11-slim

# JWT Configuration
NINAIVALAIGAL_JWT_SECRET=dev-secret-change-in-production
NINAIVALAIGAL_JWT_EXPIRATION_HOURS=168

# =============================================================================
# STACK CONFIGURATION
# =============================================================================
# Default database connection (via PgBouncer for production)
DATABASE_URL=postgresql://nina:change_me_securely@localhost:6432/nina

# Direct database connection (bypass PgBouncer)
DATABASE_URL_DIRECT=postgresql://nina:change_me_securely@localhost:5433/nina

# API Base URL
NINAIVALAIGAL_API_BASE=http://localhost:13370
