var gl=Object.create;var $t=Object.defineProperty;var yl=Object.getOwnPropertyDescriptor;var _l=Object.getOwnPropertyNames;var xl=Object.getPrototypeOf,El=Object.prototype.hasOwnProperty;var z=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),Ss=(a,e)=>{for(var t in e)$t(a,t,{get:e[t],enumerable:!0})},ws=(a,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of _l(e))!El.call(a,r)&&r!==t&&$t(a,r,{get:()=>e[r],enumerable:!(s=yl(e,r))||s.enumerable});return a};var pt=(a,e,t)=>(t=a!=null?gl(xl(a)):{},ws(e||!a||!a.__esModule?$t(t,"default",{value:a,enumerable:!0}):t,a)),bl=a=>ws($t({},"__esModule",{value:!0}),a);var an=z((Ut,tn)=>{(function(a,e){typeof Ut=="object"&&typeof tn<"u"?e(Ut):typeof define=="function"&&define.amd?define(["exports"],e):e(a.URI=a.URI||{})})(Ut,function(a){"use strict";function e(){for(var p=arguments.length,d=Array(p),_=0;_<p;_++)d[_]=arguments[_];if(d.length>1){d[0]=d[0].slice(0,-1);for(var E=d.length-1,P=1;P<E;++P)d[P]=d[P].slice(1,-1);return d[E]=d[E].slice(1),d.join("")}else return d[0]}function t(p){return"(?:"+p+")"}function s(p){return p===void 0?"undefined":p===null?"null":Object.prototype.toString.call(p).split(" ").pop().split("]").shift().toLowerCase()}function r(p){return p.toUpperCase()}function n(p){return p!=null?p instanceof Array?p:typeof p.length!="number"||p.split||p.setInterval||p.call?[p]:Array.prototype.slice.call(p):[]}function i(p,d){var _=p;if(d)for(var E in d)_[E]=d[E];return _}function o(p){var d="[A-Za-z]",_="[\\x0D]",E="[0-9]",P="[\\x22]",j=e(E,"[A-Fa-f]"),J="[\\x0A]",re="[\\x20]",ne=t(t("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+t("%[89A-Fa-f]"+j+"%"+j+j)+"|"+t("%"+j+j)),ge="[\\:\\/\\?\\#\\[\\]\\@]",ee="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ue=e(ge,ee),ye=p?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ce=p?"[\\uE000-\\uF8FF]":"[]",ae=e(d,E,"[\\-\\.\\_\\~]",ye),de=t(d+e(d,E,"[\\+\\-\\.]")+"*"),ie=t(t(ne+"|"+e(ae,ee,"[\\:]"))+"*"),br=t(t("25[0-5]")+"|"+t("2[0-4]"+E)+"|"+t("1"+E+E)+"|"+t("[1-9]"+E)+"|"+E),De=t(t("25[0-5]")+"|"+t("2[0-4]"+E)+"|"+t("1"+E+E)+"|"+t("0?[1-9]"+E)+"|0?0?"+E),Fe=t(De+"\\."+De+"\\."+De+"\\."+De),le=t(j+"{1,4}"),je=t(t(le+"\\:"+le)+"|"+Fe),qe=t(t(le+"\\:")+"{6}"+je),We=t("\\:\\:"+t(le+"\\:")+"{5}"+je),Pr=t(t(le)+"?\\:\\:"+t(le+"\\:")+"{4}"+je),ar=t(t(t(le+"\\:")+"{0,1}"+le)+"?\\:\\:"+t(le+"\\:")+"{3}"+je),ct=t(t(t(le+"\\:")+"{0,2}"+le)+"?\\:\\:"+t(le+"\\:")+"{2}"+je),St=t(t(t(le+"\\:")+"{0,3}"+le)+"?\\:\\:"+le+"\\:"+je),wt=t(t(t(le+"\\:")+"{0,4}"+le)+"?\\:\\:"+je),Qr=t(t(t(le+"\\:")+"{0,5}"+le)+"?\\:\\:"+le),Zr=t(t(t(le+"\\:")+"{0,6}"+le)+"?\\:\\:"),sr=t([qe,We,Pr,ar,ct,St,wt,Qr,Zr].join("|")),Br=t(t(ae+"|"+ne)+"+"),pa=t(sr+"\\%25"+Br),Sr=t(sr+t("\\%25|\\%(?!"+j+"{2})")+Br),ul=t("[vV]"+j+"+\\."+e(ae,ee,"[\\:]")+"+"),dl=t("\\["+t(Sr+"|"+sr+"|"+ul)+"\\]"),xs=t(t(ne+"|"+e(ae,ee))+"*"),ut=t(dl+"|"+Fe+"(?!"+xs+")|"+xs),dt=t(E+"*"),Es=t(t(ie+"@")+"?"+ut+t("\\:"+dt)+"?"),ft=t(ne+"|"+e(ae,ee,"[\\:\\@]")),fl=t(ft+"*"),bs=t(ft+"+"),hl=t(t(ne+"|"+e(ae,ee,"[\\@]"))+"+"),nr=t(t("\\/"+fl)+"*"),Jr=t("\\/"+t(bs+nr)+"?"),ma=t(hl+nr),Rt=t(bs+nr),Kr="(?!"+ft+")",Vf=t(nr+"|"+Jr+"|"+ma+"|"+Rt+"|"+Kr),Wr=t(t(ft+"|"+e("[\\/\\?]",ce))+"*"),ht=t(t(ft+"|[\\/\\?]")+"*"),Ps=t(t("\\/\\/"+Es+nr)+"|"+Jr+"|"+Rt+"|"+Kr),pl=t(de+"\\:"+Ps+t("\\?"+Wr)+"?"+t("\\#"+ht)+"?"),ml=t(t("\\/\\/"+Es+nr)+"|"+Jr+"|"+ma+"|"+Kr),vl=t(ml+t("\\?"+Wr)+"?"+t("\\#"+ht)+"?"),zf=t(pl+"|"+vl),Uf=t(de+"\\:"+Ps+t("\\?"+Wr)+"?"),Hf="^("+de+")\\:"+t(t("\\/\\/("+t("("+ie+")@")+"?("+ut+")"+t("\\:("+dt+")")+"?)")+"?("+nr+"|"+Jr+"|"+Rt+"|"+Kr+")")+t("\\?("+Wr+")")+"?"+t("\\#("+ht+")")+"?$",Qf="^(){0}"+t(t("\\/\\/("+t("("+ie+")@")+"?("+ut+")"+t("\\:("+dt+")")+"?)")+"?("+nr+"|"+Jr+"|"+ma+"|"+Kr+")")+t("\\?("+Wr+")")+"?"+t("\\#("+ht+")")+"?$",Zf="^("+de+")\\:"+t(t("\\/\\/("+t("("+ie+")@")+"?("+ut+")"+t("\\:("+dt+")")+"?)")+"?("+nr+"|"+Jr+"|"+Rt+"|"+Kr+")")+t("\\?("+Wr+")")+"?$",Bf="^"+t("\\#("+ht+")")+"?$",Jf="^"+t("("+ie+")@")+"?("+ut+")"+t("\\:("+dt+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",d,E,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",ae,ee),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",ae,ee),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",ae,ee),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",ae,ee),"g"),NOT_QUERY:new RegExp(e("[^\\%]",ae,ee,"[\\:\\@\\/\\?]",ce),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",ae,ee,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",ae,ee),"g"),UNRESERVED:new RegExp(ae,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",ae,ue),"g"),PCT_ENCODED:new RegExp(ne,"g"),IPV4ADDRESS:new RegExp("^("+Fe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+sr+")"+t(t("\\%25|\\%(?!"+j+"{2})")+"("+Br+")")+"?\\]?$")}}var f=o(!1),u=o(!0),h=function(){function p(d,_){var E=[],P=!0,j=!1,J=void 0;try{for(var re=d[Symbol.iterator](),ne;!(P=(ne=re.next()).done)&&(E.push(ne.value),!(_&&E.length===_));P=!0);}catch(ge){j=!0,J=ge}finally{try{!P&&re.return&&re.return()}finally{if(j)throw J}}return E}return function(d,_){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d))return p(d,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(p){if(Array.isArray(p)){for(var d=0,_=Array(p.length);d<p.length;d++)_[d]=p[d];return _}else return Array.from(p)},x=2147483647,c=36,y=1,g=26,v=38,b=700,w=72,S=128,$="-",O=/^xn--/,C=/[^\0-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=c-y,M=Math.floor,q=String.fromCharCode;function N(p){throw new RangeError(L[p])}function T(p,d){for(var _=[],E=p.length;E--;)_[E]=d(p[E]);return _}function k(p,d){var _=p.split("@"),E="";_.length>1&&(E=_[0]+"@",p=_[1]),p=p.replace(U,".");var P=p.split("."),j=T(P,d).join(".");return E+j}function F(p){for(var d=[],_=0,E=p.length;_<E;){var P=p.charCodeAt(_++);if(P>=55296&&P<=56319&&_<E){var j=p.charCodeAt(_++);(j&64512)==56320?d.push(((P&1023)<<10)+(j&1023)+65536):(d.push(P),_--)}else d.push(P)}return d}var oe=function(d){return String.fromCodePoint.apply(String,m(d))},G=function(d){return d-48<10?d-22:d-65<26?d-65:d-97<26?d-97:c},X=function(d,_){return d+22+75*(d<26)-((_!=0)<<5)},W=function(d,_,E){var P=0;for(d=E?M(d/b):d>>1,d+=M(d/_);d>I*g>>1;P+=c)d=M(d/I);return M(P+(I+1)*d/(d+v))},H=function(d){var _=[],E=d.length,P=0,j=S,J=w,re=d.lastIndexOf($);re<0&&(re=0);for(var ne=0;ne<re;++ne)d.charCodeAt(ne)>=128&&N("not-basic"),_.push(d.charCodeAt(ne));for(var ge=re>0?re+1:0;ge<E;){for(var ee=P,ue=1,ye=c;;ye+=c){ge>=E&&N("invalid-input");var ce=G(d.charCodeAt(ge++));(ce>=c||ce>M((x-P)/ue))&&N("overflow"),P+=ce*ue;var ae=ye<=J?y:ye>=J+g?g:ye-J;if(ce<ae)break;var de=c-ae;ue>M(x/de)&&N("overflow"),ue*=de}var ie=_.length+1;J=W(P-ee,ie,ee==0),M(P/ie)>x-j&&N("overflow"),j+=M(P/ie),P%=ie,_.splice(P++,0,j)}return String.fromCodePoint.apply(String,_)},fe=function(d){var _=[];d=F(d);var E=d.length,P=S,j=0,J=w,re=!0,ne=!1,ge=void 0;try{for(var ee=d[Symbol.iterator](),ue;!(re=(ue=ee.next()).done);re=!0){var ye=ue.value;ye<128&&_.push(q(ye))}}catch(Sr){ne=!0,ge=Sr}finally{try{!re&&ee.return&&ee.return()}finally{if(ne)throw ge}}var ce=_.length,ae=ce;for(ce&&_.push($);ae<E;){var de=x,ie=!0,br=!1,De=void 0;try{for(var Fe=d[Symbol.iterator](),le;!(ie=(le=Fe.next()).done);ie=!0){var je=le.value;je>=P&&je<de&&(de=je)}}catch(Sr){br=!0,De=Sr}finally{try{!ie&&Fe.return&&Fe.return()}finally{if(br)throw De}}var qe=ae+1;de-P>M((x-j)/qe)&&N("overflow"),j+=(de-P)*qe,P=de;var We=!0,Pr=!1,ar=void 0;try{for(var ct=d[Symbol.iterator](),St;!(We=(St=ct.next()).done);We=!0){var wt=St.value;if(wt<P&&++j>x&&N("overflow"),wt==P){for(var Qr=j,Zr=c;;Zr+=c){var sr=Zr<=J?y:Zr>=J+g?g:Zr-J;if(Qr<sr)break;var Br=Qr-sr,pa=c-sr;_.push(q(X(sr+Br%pa,0))),Qr=M(Br/pa)}_.push(q(X(Qr,0))),J=W(j,qe,ae==ce),j=0,++ae}}}catch(Sr){Pr=!0,ar=Sr}finally{try{!We&&ct.return&&ct.return()}finally{if(Pr)throw ar}}++j,++P}return _.join("")},be=function(d){return k(d,function(_){return O.test(_)?H(_.slice(4).toLowerCase()):_})},we=function(d){return k(d,function(_){return C.test(_)?"xn--"+fe(_):_})},te={version:"2.1.0",ucs2:{decode:F,encode:oe},decode:H,encode:fe,toASCII:we,toUnicode:be},me={};function _e(p){var d=p.charCodeAt(0),_=void 0;return d<16?_="%0"+d.toString(16).toUpperCase():d<128?_="%"+d.toString(16).toUpperCase():d<2048?_="%"+(d>>6|192).toString(16).toUpperCase()+"%"+(d&63|128).toString(16).toUpperCase():_="%"+(d>>12|224).toString(16).toUpperCase()+"%"+(d>>6&63|128).toString(16).toUpperCase()+"%"+(d&63|128).toString(16).toUpperCase(),_}function Re(p){for(var d="",_=0,E=p.length;_<E;){var P=parseInt(p.substr(_+1,2),16);if(P<128)d+=String.fromCharCode(P),_+=3;else if(P>=194&&P<224){if(E-_>=6){var j=parseInt(p.substr(_+4,2),16);d+=String.fromCharCode((P&31)<<6|j&63)}else d+=p.substr(_,6);_+=6}else if(P>=224){if(E-_>=9){var J=parseInt(p.substr(_+4,2),16),re=parseInt(p.substr(_+7,2),16);d+=String.fromCharCode((P&15)<<12|(J&63)<<6|re&63)}else d+=p.substr(_,9);_+=9}else d+=p.substr(_,3),_+=3}return d}function ur(p,d){function _(E){var P=Re(E);return P.match(d.UNRESERVED)?P:E}return p.scheme&&(p.scheme=String(p.scheme).replace(d.PCT_ENCODED,_).toLowerCase().replace(d.NOT_SCHEME,"")),p.userinfo!==void 0&&(p.userinfo=String(p.userinfo).replace(d.PCT_ENCODED,_).replace(d.NOT_USERINFO,_e).replace(d.PCT_ENCODED,r)),p.host!==void 0&&(p.host=String(p.host).replace(d.PCT_ENCODED,_).toLowerCase().replace(d.NOT_HOST,_e).replace(d.PCT_ENCODED,r)),p.path!==void 0&&(p.path=String(p.path).replace(d.PCT_ENCODED,_).replace(p.scheme?d.NOT_PATH:d.NOT_PATH_NOSCHEME,_e).replace(d.PCT_ENCODED,r)),p.query!==void 0&&(p.query=String(p.query).replace(d.PCT_ENCODED,_).replace(d.NOT_QUERY,_e).replace(d.PCT_ENCODED,r)),p.fragment!==void 0&&(p.fragment=String(p.fragment).replace(d.PCT_ENCODED,_).replace(d.NOT_FRAGMENT,_e).replace(d.PCT_ENCODED,r)),p}function rr(p){return p.replace(/^0*(.*)/,"$1")||"0"}function ve(p,d){var _=p.match(d.IPV4ADDRESS)||[],E=h(_,2),P=E[1];return P?P.split(".").map(rr).join("."):p}function he(p,d){var _=p.match(d.IPV6ADDRESS)||[],E=h(_,3),P=E[1],j=E[2];if(P){for(var J=P.toLowerCase().split("::").reverse(),re=h(J,2),ne=re[0],ge=re[1],ee=ge?ge.split(":").map(rr):[],ue=ne.split(":").map(rr),ye=d.IPV4ADDRESS.test(ue[ue.length-1]),ce=ye?7:8,ae=ue.length-ce,de=Array(ce),ie=0;ie<ce;++ie)de[ie]=ee[ie]||ue[ae+ie]||"";ye&&(de[ce-1]=ve(de[ce-1],d));var br=de.reduce(function(qe,We,Pr){if(!We||We==="0"){var ar=qe[qe.length-1];ar&&ar.index+ar.length===Pr?ar.length++:qe.push({index:Pr,length:1})}return qe},[]),De=br.sort(function(qe,We){return We.length-qe.length})[0],Fe=void 0;if(De&&De.length>1){var le=de.slice(0,De.index),je=de.slice(De.index+De.length);Fe=le.join(":")+"::"+je.join(":")}else Fe=de.join(":");return j&&(Fe+="%"+j),Fe}else return p}var _r=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Pe="".match(/(){0}/)[1]===void 0;function se(p){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_={},E=d.iri!==!1?u:f;d.reference==="suffix"&&(p=(d.scheme?d.scheme+":":"")+"//"+p);var P=p.match(_r);if(P){Pe?(_.scheme=P[1],_.userinfo=P[3],_.host=P[4],_.port=parseInt(P[5],10),_.path=P[6]||"",_.query=P[7],_.fragment=P[8],isNaN(_.port)&&(_.port=P[5])):(_.scheme=P[1]||void 0,_.userinfo=p.indexOf("@")!==-1?P[3]:void 0,_.host=p.indexOf("//")!==-1?P[4]:void 0,_.port=parseInt(P[5],10),_.path=P[6]||"",_.query=p.indexOf("?")!==-1?P[7]:void 0,_.fragment=p.indexOf("#")!==-1?P[8]:void 0,isNaN(_.port)&&(_.port=p.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?P[4]:void 0)),_.host&&(_.host=he(ve(_.host,E),E)),_.scheme===void 0&&_.userinfo===void 0&&_.host===void 0&&_.port===void 0&&!_.path&&_.query===void 0?_.reference="same-document":_.scheme===void 0?_.reference="relative":_.fragment===void 0?_.reference="absolute":_.reference="uri",d.reference&&d.reference!=="suffix"&&d.reference!==_.reference&&(_.error=_.error||"URI is not a "+d.reference+" reference.");var j=me[(d.scheme||_.scheme||"").toLowerCase()];if(!d.unicodeSupport&&(!j||!j.unicodeSupport)){if(_.host&&(d.domainHost||j&&j.domainHost))try{_.host=te.toASCII(_.host.replace(E.PCT_ENCODED,Re).toLowerCase())}catch(J){_.error=_.error||"Host's domain name can not be converted to ASCII via punycode: "+J}ur(_,f)}else ur(_,E);j&&j.parse&&j.parse(_,d)}else _.error=_.error||"URI can not be parsed.";return _}function dr(p,d){var _=d.iri!==!1?u:f,E=[];return p.userinfo!==void 0&&(E.push(p.userinfo),E.push("@")),p.host!==void 0&&E.push(he(ve(String(p.host),_),_).replace(_.IPV6ADDRESS,function(P,j,J){return"["+j+(J?"%25"+J:"")+"]"})),(typeof p.port=="number"||typeof p.port=="string")&&(E.push(":"),E.push(String(p.port))),E.length?E.join(""):void 0}var tr=/^\.\.?\//,xr=/^\/\.(\/|$)/,Er=/^\/\.\.(\/|$)/,xe=/^\/?(?:.|\n)*?(?=\/|$)/;function Ne(p){for(var d=[];p.length;)if(p.match(tr))p=p.replace(tr,"");else if(p.match(xr))p=p.replace(xr,"/");else if(p.match(Er))p=p.replace(Er,"/"),d.pop();else if(p==="."||p==="..")p="";else{var _=p.match(xe);if(_){var E=_[0];p=p.slice(E.length),d.push(E)}else throw new Error("Unexpected dot segment condition")}return d.join("")}function Te(p){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=d.iri?u:f,E=[],P=me[(d.scheme||p.scheme||"").toLowerCase()];if(P&&P.serialize&&P.serialize(p,d),p.host&&!_.IPV6ADDRESS.test(p.host)){if(d.domainHost||P&&P.domainHost)try{p.host=d.iri?te.toUnicode(p.host):te.toASCII(p.host.replace(_.PCT_ENCODED,Re).toLowerCase())}catch(re){p.error=p.error||"Host's domain name can not be converted to "+(d.iri?"Unicode":"ASCII")+" via punycode: "+re}}ur(p,_),d.reference!=="suffix"&&p.scheme&&(E.push(p.scheme),E.push(":"));var j=dr(p,d);if(j!==void 0&&(d.reference!=="suffix"&&E.push("//"),E.push(j),p.path&&p.path.charAt(0)!=="/"&&E.push("/")),p.path!==void 0){var J=p.path;!d.absolutePath&&(!P||!P.absolutePath)&&(J=Ne(J)),j===void 0&&(J=J.replace(/^\/\//,"/%2F")),E.push(J)}return p.query!==void 0&&(E.push("?"),E.push(p.query)),p.fragment!==void 0&&(E.push("#"),E.push(p.fragment)),E.join("")}function $e(p,d){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments[3],P={};return E||(p=se(Te(p,_),_),d=se(Te(d,_),_)),_=_||{},!_.tolerant&&d.scheme?(P.scheme=d.scheme,P.userinfo=d.userinfo,P.host=d.host,P.port=d.port,P.path=Ne(d.path||""),P.query=d.query):(d.userinfo!==void 0||d.host!==void 0||d.port!==void 0?(P.userinfo=d.userinfo,P.host=d.host,P.port=d.port,P.path=Ne(d.path||""),P.query=d.query):(d.path?(d.path.charAt(0)==="/"?P.path=Ne(d.path):((p.userinfo!==void 0||p.host!==void 0||p.port!==void 0)&&!p.path?P.path="/"+d.path:p.path?P.path=p.path.slice(0,p.path.lastIndexOf("/")+1)+d.path:P.path=d.path,P.path=Ne(P.path)),P.query=d.query):(P.path=p.path,d.query!==void 0?P.query=d.query:P.query=p.query),P.userinfo=p.userinfo,P.host=p.host,P.port=p.port),P.scheme=p.scheme),P.fragment=d.fragment,P}function Je(p,d,_){var E=i({scheme:"null"},_);return Te($e(se(p,E),se(d,E),E,!0),E)}function Ae(p,d){return typeof p=="string"?p=Te(se(p,d),d):s(p)==="object"&&(p=se(Te(p,d),d)),p}function Pt(p,d,_){return typeof p=="string"?p=Te(se(p,_),_):s(p)==="object"&&(p=Te(p,_)),typeof d=="string"?d=Te(se(d,_),_):s(d)==="object"&&(d=Te(d,_)),p===d}function fa(p,d){return p&&p.toString().replace(!d||!d.iri?f.ESCAPE:u.ESCAPE,_e)}function Ze(p,d){return p&&p.toString().replace(!d||!d.iri?f.PCT_ENCODED:u.PCT_ENCODED,Re)}var it={scheme:"http",domainHost:!0,parse:function(d,_){return d.host||(d.error=d.error||"HTTP URIs must have a host."),d},serialize:function(d,_){var E=String(d.scheme).toLowerCase()==="https";return(d.port===(E?443:80)||d.port==="")&&(d.port=void 0),d.path||(d.path="/"),d}},fs={scheme:"https",domainHost:it.domainHost,parse:it.parse,serialize:it.serialize};function hs(p){return typeof p.secure=="boolean"?p.secure:String(p.scheme).toLowerCase()==="wss"}var lt={scheme:"ws",domainHost:!0,parse:function(d,_){var E=d;return E.secure=hs(E),E.resourceName=(E.path||"/")+(E.query?"?"+E.query:""),E.path=void 0,E.query=void 0,E},serialize:function(d,_){if((d.port===(hs(d)?443:80)||d.port==="")&&(d.port=void 0),typeof d.secure=="boolean"&&(d.scheme=d.secure?"wss":"ws",d.secure=void 0),d.resourceName){var E=d.resourceName.split("?"),P=h(E,2),j=P[0],J=P[1];d.path=j&&j!=="/"?j:void 0,d.query=J,d.resourceName=void 0}return d.fragment=void 0,d}},ps={scheme:"wss",domainHost:lt.domainHost,parse:lt.parse,serialize:lt.serialize},Yi={},Xi=!0,ms="[A-Za-z0-9\\-\\.\\_\\~"+(Xi?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Ke="[0-9A-Fa-f]",el=t(t("%[EFef]"+Ke+"%"+Ke+Ke+"%"+Ke+Ke)+"|"+t("%[89A-Fa-f]"+Ke+"%"+Ke+Ke)+"|"+t("%"+Ke+Ke)),rl="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",tl="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",al=e(tl,'[\\"\\\\]'),sl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",nl=new RegExp(ms,"g"),Hr=new RegExp(el,"g"),ol=new RegExp(e("[^]",rl,"[\\.]",'[\\"]',al),"g"),vs=new RegExp(e("[^]",ms,sl),"g"),il=vs;function ha(p){var d=Re(p);return d.match(nl)?d:p}var gs={scheme:"mailto",parse:function(d,_){var E=d,P=E.to=E.path?E.path.split(","):[];if(E.path=void 0,E.query){for(var j=!1,J={},re=E.query.split("&"),ne=0,ge=re.length;ne<ge;++ne){var ee=re[ne].split("=");switch(ee[0]){case"to":for(var ue=ee[1].split(","),ye=0,ce=ue.length;ye<ce;++ye)P.push(ue[ye]);break;case"subject":E.subject=Ze(ee[1],_);break;case"body":E.body=Ze(ee[1],_);break;default:j=!0,J[Ze(ee[0],_)]=Ze(ee[1],_);break}}j&&(E.headers=J)}E.query=void 0;for(var ae=0,de=P.length;ae<de;++ae){var ie=P[ae].split("@");if(ie[0]=Ze(ie[0]),_.unicodeSupport)ie[1]=Ze(ie[1],_).toLowerCase();else try{ie[1]=te.toASCII(Ze(ie[1],_).toLowerCase())}catch(br){E.error=E.error||"Email address's domain name can not be converted to ASCII via punycode: "+br}P[ae]=ie.join("@")}return E},serialize:function(d,_){var E=d,P=n(d.to);if(P){for(var j=0,J=P.length;j<J;++j){var re=String(P[j]),ne=re.lastIndexOf("@"),ge=re.slice(0,ne).replace(Hr,ha).replace(Hr,r).replace(ol,_e),ee=re.slice(ne+1);try{ee=_.iri?te.toUnicode(ee):te.toASCII(Ze(ee,_).toLowerCase())}catch(ae){E.error=E.error||"Email address's domain name can not be converted to "+(_.iri?"Unicode":"ASCII")+" via punycode: "+ae}P[j]=ge+"@"+ee}E.path=P.join(",")}var ue=d.headers=d.headers||{};d.subject&&(ue.subject=d.subject),d.body&&(ue.body=d.body);var ye=[];for(var ce in ue)ue[ce]!==Yi[ce]&&ye.push(ce.replace(Hr,ha).replace(Hr,r).replace(vs,_e)+"="+ue[ce].replace(Hr,ha).replace(Hr,r).replace(il,_e));return ye.length&&(E.query=ye.join("&")),E}},ll=/^([^\:]+)\:(.*)/,ys={scheme:"urn",parse:function(d,_){var E=d.path&&d.path.match(ll),P=d;if(E){var j=_.scheme||P.scheme||"urn",J=E[1].toLowerCase(),re=E[2],ne=j+":"+(_.nid||J),ge=me[ne];P.nid=J,P.nss=re,P.path=void 0,ge&&(P=ge.parse(P,_))}else P.error=P.error||"URN can not be parsed.";return P},serialize:function(d,_){var E=_.scheme||d.scheme||"urn",P=d.nid,j=E+":"+(_.nid||P),J=me[j];J&&(d=J.serialize(d,_));var re=d,ne=d.nss;return re.path=(P||_.nid)+":"+ne,re}},cl=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,_s={scheme:"urn:uuid",parse:function(d,_){var E=d;return E.uuid=E.nss,E.nss=void 0,!_.tolerant&&(!E.uuid||!E.uuid.match(cl))&&(E.error=E.error||"UUID is not valid."),E},serialize:function(d,_){var E=d;return E.nss=(d.uuid||"").toLowerCase(),E}};me[it.scheme]=it,me[fs.scheme]=fs,me[lt.scheme]=lt,me[ps.scheme]=ps,me[gs.scheme]=gs,me[ys.scheme]=ys,me[_s.scheme]=_s,a.SCHEMES=me,a.pctEncChar=_e,a.pctDecChars=Re,a.parse=se,a.removeDotSegments=Ne,a.serialize=Te,a.resolveComponents=$e,a.resolve=Je,a.normalize=Ae,a.equal=Pt,a.escapeComponent=fa,a.unescapeComponent=Ze,Object.defineProperty(a,"__esModule",{value:!0})})});var Ht=z((Ah,sn)=>{"use strict";sn.exports=function a(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,r,n;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(r=s;r--!==0;)if(!a(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(n=Object.keys(e),s=n.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(r=s;r--!==0;){var i=n[r];if(!a(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}});var on=z((Dh,nn)=>{"use strict";nn.exports=function(e){for(var t=0,s=e.length,r=0,n;r<s;)t++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<s&&(n=e.charCodeAt(r),(n&64512)==56320&&r++);return t}});var zr=z((jh,un)=>{"use strict";un.exports={copy:Tu,checkDataType:Aa,checkDataTypes:Ou,coerceToTypes:Cu,toHash:ja,getProperty:Na,escapeQuotes:Fa,equal:Ht(),ucs2length:on(),varOccurences:Au,varReplace:Du,schemaHasRules:ju,schemaHasRulesExcept:Nu,schemaUnknownRules:Fu,toQuotedString:Da,getPathExpr:qu,getPath:Lu,getData:zu,unescapeFragment:Uu,unescapeJsonPointer:La,escapeFragment:Hu,escapeJsonPointer:qa};function Tu(a,e){e=e||{};for(var t in a)e[t]=a[t];return e}function Aa(a,e,t,s){var r=s?" !== ":" === ",n=s?" || ":" && ",i=s?"!":"",o=s?"":"!";switch(a){case"null":return e+r+"null";case"array":return i+"Array.isArray("+e+")";case"object":return"("+i+e+n+"typeof "+e+r+'"object"'+n+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+n+o+"("+e+" % 1)"+n+e+r+e+(t?n+i+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+a+'"'+(t?n+i+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+a+'"'}}function Ou(a,e,t){switch(a.length){case 1:return Aa(a[0],e,t,!0);default:var s="",r=ja(a);r.array&&r.object&&(s=r.null?"(":"(!"+e+" || ",s+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var n in r)s+=(s?" && ":"")+Aa(n,e,t,!0);return s}}var ln=ja(["string","number","integer","boolean","null"]);function Cu(a,e){if(Array.isArray(e)){for(var t=[],s=0;s<e.length;s++){var r=e[s];(ln[r]||a==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(ln[e])return[e];if(a==="array"&&e==="array")return["array"]}}function ja(a){for(var e={},t=0;t<a.length;t++)e[a[t]]=!0;return e}var Iu=/^[a-z$_][a-z$_0-9]*$/i,ku=/'|\\/g;function Na(a){return typeof a=="number"?"["+a+"]":Iu.test(a)?"."+a:"['"+Fa(a)+"']"}function Fa(a){return a.replace(ku,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Au(a,e){e+="[^0-9]";var t=a.match(new RegExp(e,"g"));return t?t.length:0}function Du(a,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),a.replace(new RegExp(e,"g"),t+"$1")}function ju(a,e){if(typeof a=="boolean")return!a;for(var t in a)if(e[t])return!0}function Nu(a,e,t){if(typeof a=="boolean")return!a&&t!="not";for(var s in a)if(s!=t&&e[s])return!0}function Fu(a,e){if(typeof a!="boolean"){for(var t in a)if(!e[t])return t}}function Da(a){return"'"+Fa(a)+"'"}function qu(a,e,t,s){var r=t?"'/' + "+e+(s?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):s?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return cn(a,r)}function Lu(a,e,t){var s=Da(t?"/"+qa(e):Na(e));return cn(a,s)}var Mu=/^\/(?:[^~]|~0|~1)*$/,Vu=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function zu(a,e,t){var s,r,n,i;if(a==="")return"rootData";if(a[0]=="/"){if(!Mu.test(a))throw new Error("Invalid JSON-pointer: "+a);r=a,n="rootData"}else{if(i=a.match(Vu),!i)throw new Error("Invalid JSON-pointer: "+a);if(s=+i[1],r=i[2],r=="#"){if(s>=e)throw new Error("Cannot access property/index "+s+" levels up, current level is "+e);return t[e-s]}if(s>e)throw new Error("Cannot access data "+s+" levels up, current level is "+e);if(n="data"+(e-s||""),!r)return n}for(var o=n,f=r.split("/"),u=0;u<f.length;u++){var h=f[u];h&&(n+=Na(La(h)),o+=" && "+n)}return o}function cn(a,e){return a=='""'?e:(a+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function Uu(a){return La(decodeURIComponent(a))}function Hu(a){return encodeURIComponent(qa(a))}function qa(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}function La(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}});var Ma=z((Nh,dn)=>{"use strict";var Qu=zr();dn.exports=Zu;function Zu(a){Qu.copy(a,this)}});var hn=z((Fh,fn)=>{"use strict";var vr=fn.exports=function(a,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var s=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};Qt(e,s,r,a,"",a)};vr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};vr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};vr.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};vr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Qt(a,e,t,s,r,n,i,o,f,u){if(s&&typeof s=="object"&&!Array.isArray(s)){e(s,r,n,i,o,f,u);for(var h in s){var m=s[h];if(Array.isArray(m)){if(h in vr.arrayKeywords)for(var x=0;x<m.length;x++)Qt(a,e,t,m[x],r+"/"+h+"/"+x,n,r,h,s,x)}else if(h in vr.propsKeywords){if(m&&typeof m=="object")for(var c in m)Qt(a,e,t,m[c],r+"/"+h+"/"+Bu(c),n,r,h,s,c)}else(h in vr.keywords||a.allKeys&&!(h in vr.skipKeywords))&&Qt(a,e,t,m,r+"/"+h,n,r,h,s)}t(s,r,n,i,o,f,u)}}function Bu(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}});var Gt=z((qh,gn)=>{"use strict";var xt=an(),pn=Ht(),Kt=zr(),Zt=Ma(),Ju=hn();gn.exports=yr;yr.normalizeId=gr;yr.fullPath=Bt;yr.url=Jt;yr.ids=Xu;yr.inlineRef=Va;yr.schema=Wt;function yr(a,e,t){var s=this._refs[t];if(typeof s=="string")if(this._refs[s])s=this._refs[s];else return yr.call(this,a,e,s);if(s=s||this._schemas[t],s instanceof Zt)return Va(s.schema,this._opts.inlineRefs)?s.schema:s.validate||this._compile(s);var r=Wt.call(this,e,t),n,i,o;return r&&(n=r.schema,e=r.root,o=r.baseId),n instanceof Zt?i=n.validate||a.call(this,n.schema,e,void 0,o):n!==void 0&&(i=Va(n,this._opts.inlineRefs)?n:a.call(this,n,e,void 0,o)),i}function Wt(a,e){var t=xt.parse(e),s=vn(t),r=Bt(this._getId(a.schema));if(Object.keys(a.schema).length===0||s!==r){var n=gr(s),i=this._refs[n];if(typeof i=="string")return Ku.call(this,a,i,t);if(i instanceof Zt)i.validate||this._compile(i),a=i;else if(i=this._schemas[n],i instanceof Zt){if(i.validate||this._compile(i),n==gr(e))return{schema:i,root:a,baseId:r};a=i}else return;if(!a.schema)return;r=Bt(this._getId(a.schema))}return mn.call(this,t,r,a.schema,a)}function Ku(a,e,t){var s=Wt.call(this,a,e);if(s){var r=s.schema,n=s.baseId;a=s.root;var i=this._getId(r);return i&&(n=Jt(n,i)),mn.call(this,t,n,r,a)}}var Wu=Kt.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function mn(a,e,t,s){if(a.fragment=a.fragment||"",a.fragment.slice(0,1)=="/"){for(var r=a.fragment.split("/"),n=1;n<r.length;n++){var i=r[n];if(i){if(i=Kt.unescapeFragment(i),t=t[i],t===void 0)break;var o;if(!Wu[i]&&(o=this._getId(t),o&&(e=Jt(e,o)),t.$ref)){var f=Jt(e,t.$ref),u=Wt.call(this,s,f);u&&(t=u.schema,s=u.root,e=u.baseId)}}}if(t!==void 0&&t!==s.schema)return{schema:t,root:s,baseId:e}}}var Gu=Kt.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Va(a,e){if(e===!1)return!1;if(e===void 0||e===!0)return za(a);if(e)return Ua(a)<=e}function za(a){var e;if(Array.isArray(a)){for(var t=0;t<a.length;t++)if(e=a[t],typeof e=="object"&&!za(e))return!1}else for(var s in a)if(s=="$ref"||(e=a[s],typeof e=="object"&&!za(e)))return!1;return!0}function Ua(a){var e=0,t;if(Array.isArray(a)){for(var s=0;s<a.length;s++)if(t=a[s],typeof t=="object"&&(e+=Ua(t)),e==1/0)return 1/0}else for(var r in a){if(r=="$ref")return 1/0;if(Gu[r])e++;else if(t=a[r],typeof t=="object"&&(e+=Ua(t)+1),e==1/0)return 1/0}return e}function Bt(a,e){e!==!1&&(a=gr(a));var t=xt.parse(a);return vn(t)}function vn(a){return xt.serialize(a).split("#")[0]+"#"}var Yu=/#\/?$/;function gr(a){return a?a.replace(Yu,""):""}function Jt(a,e){return e=gr(e),xt.resolve(a,e)}function Xu(a){var e=gr(this._getId(a)),t={"":e},s={"":Bt(e,!1)},r={},n=this;return Ju(a,{allKeys:!0},function(i,o,f,u,h,m,x){if(o!==""){var c=n._getId(i),y=t[u],g=s[u]+"/"+h;if(x!==void 0&&(g+="/"+(typeof x=="number"?x:Kt.escapeFragment(x))),typeof c=="string"){c=y=gr(y?xt.resolve(y,c):c);var v=n._refs[c];if(typeof v=="string"&&(v=n._refs[v]),v&&v.schema){if(!pn(i,v.schema))throw new Error('id "'+c+'" resolves to more than one schema')}else if(c!=gr(g))if(c[0]=="#"){if(r[c]&&!pn(i,r[c]))throw new Error('id "'+c+'" resolves to more than one schema');r[c]=i}else n._refs[c]=g}t[o]=y,s[o]=g}}),r}});var Yt=z((Lh,_n)=>{"use strict";var Ha=Gt();_n.exports={Validation:yn(ed),MissingRef:yn(Qa)};function ed(a){this.message="validation failed",this.errors=a,this.ajv=this.validation=!0}Qa.message=function(a,e){return"can't resolve reference "+e+" from id "+a};function Qa(a,e,t){this.message=t||Qa.message(a,e),this.missingRef=Ha.url(a,e),this.missingSchema=Ha.normalizeId(Ha.fullPath(this.missingRef))}function yn(a){return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}});var Za=z((Mh,xn)=>{"use strict";xn.exports=function(a,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,s=e.cmp&&function(n){return function(i){return function(o,f){var u={key:o,value:i[o]},h={key:f,value:i[f]};return n(u,h)}}}(e.cmp),r=[];return function n(i){if(i&&i.toJSON&&typeof i.toJSON=="function"&&(i=i.toJSON()),i!==void 0){if(typeof i=="number")return isFinite(i)?""+i:"null";if(typeof i!="object")return JSON.stringify(i);var o,f;if(Array.isArray(i)){for(f="[",o=0;o<i.length;o++)o&&(f+=","),f+=n(i[o])||"null";return f+"]"}if(i===null)return"null";if(r.indexOf(i)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=r.push(i)-1,h=Object.keys(i).sort(s&&s(i));for(f="",o=0;o<h.length;o++){var m=h[o],x=n(i[m]);x&&(f&&(f+=","),f+=JSON.stringify(m)+":"+x)}return r.splice(u,1),"{"+f+"}"}}(a)}});var Ba=z((Vh,En)=>{"use strict";En.exports=function(e,t,s){var r="",n=e.schema.$async===!0,i=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var f=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(f){var u="unknown keyword: "+f;if(e.opts.strictKeywords==="log")e.logger.warn(u);else throw new Error(u)}}if(e.isTop&&(r+=" var validate = ",n&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(i||e.schema.$ref)){var t="false schema",h=e.level,m=e.dataLevel,x=e.schema[t],c=e.schemaPath+e.util.getProperty(t),y=e.errSchemaPath+"/"+t,O=!e.opts.allErrors,L,g="data"+(m||""),$="valid"+h;if(e.schema===!1){e.isTop?O=!0:r+=" var "+$+" = false; ";var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(L||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var b=r;r=v.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+$+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var w=e.isTop,h=e.level=0,m=e.dataLevel=0,g="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var S="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(S);else throw new Error(S)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var h=e.level,m=e.dataLevel,g="data"+(m||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),n&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+h+" = errors;"}var $="valid"+h,O=!e.opts.allErrors,C="",U="",L,I=e.schema.type,M=Array.isArray(I);if(I&&e.opts.nullable&&e.schema.nullable===!0&&(M?I.indexOf("null")==-1&&(I=I.concat("null")):I!="null"&&(I=[I,"null"],M=!0)),M&&I.length==1&&(I=I[0],M=!1),e.schema.$ref&&i){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(i=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),I){if(e.opts.coerceTypes)var q=e.util.coerceToTypes(e.opts.coerceTypes,I);var N=e.RULES.types[I];if(q||M||N===!0||N&&!xe(N)){var c=e.schemaPath+".type",y=e.errSchemaPath+"/type",c=e.schemaPath+".type",y=e.errSchemaPath+"/type",T=M?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[T](I,g,e.opts.strictNumbers,!0)+") { ",q){var k="dataType"+h,F="coerced"+h;r+=" var "+k+" = typeof "+g+"; var "+F+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+k+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+k+" = typeof "+g+"; if ("+e.util.checkDataType(e.schema.type,g,e.opts.strictNumbers)+") "+F+" = "+g+"; } "),r+=" if ("+F+" !== undefined) ; ";var oe=q;if(oe)for(var G,X=-1,W=oe.length-1;X<W;)G=oe[X+=1],G=="string"?r+=" else if ("+k+" == 'number' || "+k+" == 'boolean') "+F+" = '' + "+g+"; else if ("+g+" === null) "+F+" = ''; ":G=="number"||G=="integer"?(r+=" else if ("+k+" == 'boolean' || "+g+" === null || ("+k+" == 'string' && "+g+" && "+g+" == +"+g+" ",G=="integer"&&(r+=" && !("+g+" % 1)"),r+=")) "+F+" = +"+g+"; "):G=="boolean"?r+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+F+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+F+" = true; ":G=="null"?r+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+F+" = null; ":e.opts.coerceTypes=="array"&&G=="array"&&(r+=" else if ("+k+" == 'string' || "+k+" == 'number' || "+k+" == 'boolean' || "+g+" == null) "+F+" = ["+g+"]; ");r+=" else {   ";var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { type: '",M?r+=""+I.join(","):r+=""+I,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",M?r+=""+I.join(","):r+=""+I,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var b=r;r=v.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+F+" !== undefined) {  ";var H=m?"data"+(m-1||""):"parentData",fe=m?e.dataPathArr[m]:"parentDataProperty";r+=" "+g+" = "+F+"; ",m||(r+="if ("+H+" !== undefined)"),r+=" "+H+"["+fe+"] = "+F+"; } "}else{var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { type: '",M?r+=""+I.join(","):r+=""+I,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",M?r+=""+I.join(","):r+=""+I,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var b=r;r=v.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!i)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",O&&(r+=" } if (errors === ",w?r+="0":r+="errs_"+h,r+=") { ",U+="}");else{var be=e.RULES;if(be){for(var N,we=-1,te=be.length-1;we<te;)if(N=be[we+=1],xe(N)){if(N.type&&(r+=" if ("+e.util.checkDataType(N.type,g,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(N.type=="object"&&e.schema.properties){var x=e.schema.properties,me=Object.keys(x),_e=me;if(_e)for(var Re,ur=-1,rr=_e.length-1;ur<rr;){Re=_e[ur+=1];var ve=x[Re];if(ve.default!==void 0){var he=g+e.util.getProperty(Re);if(e.compositeRule){if(e.opts.strictDefaults){var S="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(S);else throw new Error(S)}}else r+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+he+" === null || "+he+" === '' "),r+=" ) "+he+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(ve.default)+" ":r+=" "+JSON.stringify(ve.default)+" ",r+="; "}}}else if(N.type=="array"&&Array.isArray(e.schema.items)){var _r=e.schema.items;if(_r){for(var ve,X=-1,Pe=_r.length-1;X<Pe;)if(ve=_r[X+=1],ve.default!==void 0){var he=g+"["+X+"]";if(e.compositeRule){if(e.opts.strictDefaults){var S="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(S);else throw new Error(S)}}else r+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+he+" === null || "+he+" === '' "),r+=" ) "+he+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(ve.default)+" ":r+=" "+JSON.stringify(ve.default)+" ",r+="; "}}}}var se=N.rules;if(se){for(var dr,tr=-1,xr=se.length-1;tr<xr;)if(dr=se[tr+=1],Ne(dr)){var Er=dr.code(e,dr.keyword,N.type);Er&&(r+=" "+Er+" ",O&&(C+="}"))}}if(O&&(r+=" "+C+" ",C=""),N.type&&(r+=" } ",I&&I===N.type&&!q)){r+=" else { ";var c=e.schemaPath+".type",y=e.errSchemaPath+"/type",v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(y)+" , params: { type: '",M?r+=""+I.join(","):r+=""+I,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",M?r+=""+I.join(","):r+=""+I,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var b=r;r=v.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}O&&(r+=" if (errors === ",w?r+="0":r+="errs_"+h,r+=") { ",U+="}")}}}O&&(r+=" "+U+" "),w?(n?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+$+" = errors === errs_"+h+";";function xe($e){for(var Je=$e.rules,Ae=0;Ae<Je.length;Ae++)if(Ne(Je[Ae]))return!0}function Ne($e){return e.schema[$e.keyword]!==void 0||$e.implements&&Te($e)}function Te($e){for(var Je=$e.implements,Ae=0;Ae<Je.length;Ae++)if(e.schema[Je[Ae]]!==void 0)return!0}return r}});var Rn=z((zh,wn)=>{"use strict";var Xt=Gt(),ra=zr(),Pn=Yt(),rd=Za(),bn=Ba(),td=ra.ucs2length,ad=Ht(),sd=Pn.Validation;wn.exports=Ja;function Ja(a,e,t,s){var r=this,n=this._opts,i=[void 0],o={},f=[],u={},h=[],m={},x=[];e=e||{schema:a,refVal:i,refs:o};var c=nd.call(this,a,e,s),y=this._compilations[c.index];if(c.compiling)return y.callValidate=S;var g=this._formats,v=this.RULES;try{var b=$(a,e,t,s);y.validate=b;var w=y.callValidate;return w&&(w.schema=b.schema,w.errors=null,w.refs=b.refs,w.refVal=b.refVal,w.root=b.root,w.$async=b.$async,n.sourceCode&&(w.source=b.source)),b}finally{od.call(this,a,e,s)}function S(){var T=y.validate,k=T.apply(this,arguments);return S.errors=T.errors,k}function $(T,k,F,oe){var G=!k||k&&k.schema==T;if(k.schema!=e.schema)return Ja.call(r,T,k,F,oe);var X=T.$async===!0,W=bn({isTop:!0,schema:T,isRoot:G,baseId:oe,root:k,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Pn.MissingRef,RULES:v,validate:bn,util:ra,resolve:Xt,resolveRef:O,usePattern:M,useDefault:q,useCustomRule:N,opts:n,formats:g,logger:r.logger,self:r});W=ea(i,cd)+ea(f,id)+ea(h,ld)+ea(x,ud)+W,n.processCode&&(W=n.processCode(W,T));var H;try{var fe=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",W);H=fe(r,v,g,e,i,h,x,ad,td,sd),i[0]=H}catch(be){throw r.logger.error("Error compiling schema, function code:",W),be}return H.schema=T,H.errors=null,H.refs=o,H.refVal=i,H.root=G?H:k,X&&(H.$async=!0),n.sourceCode===!0&&(H.source={code:W,patterns:f,defaults:h}),H}function O(T,k,F){k=Xt.url(T,k);var oe=o[k],G,X;if(oe!==void 0)return G=i[oe],X="refVal["+oe+"]",I(G,X);if(!F&&e.refs){var W=e.refs[k];if(W!==void 0)return G=e.refVal[W],X=C(k,G),I(G,X)}X=C(k);var H=Xt.call(r,$,e,k);if(H===void 0){var fe=t&&t[k];fe&&(H=Xt.inlineRef(fe,n.inlineRefs)?fe:Ja.call(r,fe,e,t,T))}if(H===void 0)U(k);else return L(k,H),I(H,X)}function C(T,k){var F=i.length;return i[F]=k,o[T]=F,"refVal"+F}function U(T){delete o[T]}function L(T,k){var F=o[T];i[F]=k}function I(T,k){return typeof T=="object"||typeof T=="boolean"?{code:k,schema:T,inline:!0}:{code:k,$async:T&&!!T.$async}}function M(T){var k=u[T];return k===void 0&&(k=u[T]=f.length,f[k]=T),"pattern"+k}function q(T){switch(typeof T){case"boolean":case"number":return""+T;case"string":return ra.toQuotedString(T);case"object":if(T===null)return"null";var k=rd(T),F=m[k];return F===void 0&&(F=m[k]=h.length,h[F]=T),"default"+F}}function N(T,k,F,oe){if(r._opts.validateSchema!==!1){var G=T.definition.dependencies;if(G&&!G.every(function(_e){return Object.prototype.hasOwnProperty.call(F,_e)}))throw new Error("parent schema must have all required keywords: "+G.join(","));var X=T.definition.validateSchema;if(X){var W=X(k);if(!W){var H="keyword schema is invalid: "+r.errorsText(X.errors);if(r._opts.validateSchema=="log")r.logger.error(H);else throw new Error(H)}}}var fe=T.definition.compile,be=T.definition.inline,we=T.definition.macro,te;if(fe)te=fe.call(r,k,F,oe);else if(we)te=we.call(r,k,F,oe),n.validateSchema!==!1&&r.validateSchema(te,!0);else if(be)te=be.call(r,oe,T.keyword,k,F);else if(te=T.definition.validate,!te)return;if(te===void 0)throw new Error('custom keyword "'+T.keyword+'"failed to compile');var me=x.length;return x[me]=te,{code:"customRule"+me,validate:te}}}function nd(a,e,t){var s=Sn.call(this,a,e,t);return s>=0?{index:s,compiling:!0}:(s=this._compilations.length,this._compilations[s]={schema:a,root:e,baseId:t},{index:s,compiling:!1})}function od(a,e,t){var s=Sn.call(this,a,e,t);s>=0&&this._compilations.splice(s,1)}function Sn(a,e,t){for(var s=0;s<this._compilations.length;s++){var r=this._compilations[s];if(r.schema==a&&r.root==e&&r.baseId==t)return s}return-1}function id(a,e){return"var pattern"+a+" = new RegExp("+ra.toQuotedString(e[a])+");"}function ld(a){return"var default"+a+" = defaults["+a+"];"}function cd(a,e){return e[a]===void 0?"":"var refVal"+a+" = refVal["+a+"];"}function ud(a){return"var customRule"+a+" = customRules["+a+"];"}function ea(a,e){if(!a.length)return"";for(var t="",s=0;s<a.length;s++)t+=e(s,a);return t}});var Tn=z((Uh,$n)=>{"use strict";var ta=$n.exports=function(){this._cache={}};ta.prototype.put=function(e,t){this._cache[e]=t};ta.prototype.get=function(e){return this._cache[e]};ta.prototype.del=function(e){delete this._cache[e]};ta.prototype.clear=function(){this._cache={}}});var Mn=z((Hh,Ln)=>{"use strict";var dd=zr(),fd=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,hd=[0,31,28,31,30,31,30,31,31,30,31,30,31],pd=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,On=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,md=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,vd=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Cn=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,In=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,kn=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,An=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Dn=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,jn=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;Ln.exports=aa;function aa(a){return a=a=="full"?"full":"fast",dd.copy(aa[a])}aa.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Cn,url:In,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:On,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:qn,uuid:kn,"json-pointer":An,"json-pointer-uri-fragment":Dn,"relative-json-pointer":jn};aa.full={date:Nn,time:Fn,"date-time":_d,uri:Ed,"uri-reference":vd,"uri-template":Cn,url:In,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:On,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:qn,uuid:kn,"json-pointer":An,"json-pointer-uri-fragment":Dn,"relative-json-pointer":jn};function gd(a){return a%4===0&&(a%100!==0||a%400===0)}function Nn(a){var e=a.match(fd);if(!e)return!1;var t=+e[1],s=+e[2],r=+e[3];return s>=1&&s<=12&&r>=1&&r<=(s==2&&gd(t)?29:hd[s])}function Fn(a,e){var t=a.match(pd);if(!t)return!1;var s=t[1],r=t[2],n=t[3],i=t[5];return(s<=23&&r<=59&&n<=59||s==23&&r==59&&n==60)&&(!e||i)}var yd=/t|\s/i;function _d(a){var e=a.split(yd);return e.length==2&&Nn(e[0])&&Fn(e[1],!0)}var xd=/\/|:/;function Ed(a){return xd.test(a)&&md.test(a)}var bd=/[^\\]\\Z/;function qn(a){if(bd.test(a))return!1;try{return new RegExp(a),!0}catch{return!1}}});var zn=z((Qh,Vn)=>{"use strict";Vn.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(i||""),m="valid"+n,x,c;if(o=="#"||o=="#/")e.isRoot?(x=e.async,c="validate"):(x=e.root.schema.$async===!0,c="root.refVal[0]");else{var y=e.resolveRef(e.baseId,o,e.isRoot);if(y===void 0){var g=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(g);var v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var b=r;r=v.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(g),u&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,g)}else if(y.inline){var w=e.util.copy(e);w.level++;var S="valid"+w.level;w.schema=y.schema,w.schemaPath="",w.errSchemaPath=o;var $=e.validate(w).replace(/validate\.schema/g,y.code);r+=" "+$+" ",u&&(r+=" if ("+S+") { ")}else x=y.$async===!0||e.async&&y.$async!==!1,c=y.code}if(c){var v=v||[];v.push(r),r="",e.opts.passContext?r+=" "+c+".call(this, ":r+=" "+c+"( ",r+=" "+h+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var O=i?"data"+(i-1||""):"parentData",C=i?e.dataPathArr[i]:"parentDataProperty";r+=" , "+O+" , "+C+", rootData)  ";var U=r;if(r=v.pop(),x){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(r+=" var "+m+"; "),r+=" try { await "+U+"; ",u&&(r+=" "+m+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(r+=" "+m+" = false; "),r+=" } ",u&&(r+=" if ("+m+") { ")}else r+=" if (!"+U+") { if (vErrors === null) vErrors = "+c+".errors; else vErrors = vErrors.concat("+c+".errors); errors = vErrors.length; } ",u&&(r+=" else { ")}return r}});var Hn=z((Zh,Un)=>{"use strict";Un.exports=function(e,t,s){var r=" ",n=e.schema[t],i=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,u=e.util.copy(e),h="";u.level++;var m="valid"+u.level,x=u.baseId,c=!0,y=n;if(y)for(var g,v=-1,b=y.length-1;v<b;)g=y[v+=1],(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))&&(c=!1,u.schema=g,u.schemaPath=i+"["+v+"]",u.errSchemaPath=o+"/"+v,r+="  "+e.validate(u)+" ",u.baseId=x,f&&(r+=" if ("+m+") { ",h+="}"));return f&&(c?r+=" if (true) { ":r+=" "+h.slice(0,-1)+" "),r}});var Zn=z((Bh,Qn)=>{"use strict";Qn.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="valid"+n,c="errs__"+n,y=e.util.copy(e),g="";y.level++;var v="valid"+y.level,b=o.every(function(L){return e.opts.strictKeywords?typeof L=="object"&&Object.keys(L).length>0||L===!1:e.util.schemaHasRules(L,e.RULES.all)});if(b){var w=y.baseId;r+=" var "+c+" = errors; var "+x+" = false;  ";var S=e.compositeRule;e.compositeRule=y.compositeRule=!0;var $=o;if($)for(var O,C=-1,U=$.length-1;C<U;)O=$[C+=1],y.schema=O,y.schemaPath=f+"["+C+"]",y.errSchemaPath=u+"/"+C,r+="  "+e.validate(y)+" ",y.baseId=w,r+=" "+x+" = "+x+" || "+v+"; if (!"+x+") { ",g+="}";e.compositeRule=y.compositeRule=S,r+=" "+g+" if (!"+x+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+c+"; if (vErrors !== null) { if ("+c+") vErrors.length = "+c+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else h&&(r+=" if (true) { ");return r}});var Jn=z((Jh,Bn)=>{"use strict";Bn.exports=function(e,t,s){var r=" ",n=e.schema[t],i=e.errSchemaPath+"/"+t,o=!e.opts.allErrors,f=e.util.toQuotedString(n);return e.opts.$comment===!0?r+=" console.log("+f+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+f+", "+e.util.toQuotedString(i)+", validate.root.schema);"),r}});var Wn=z((Kh,Kn)=>{"use strict";Kn.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="valid"+n,c=e.opts.$data&&o&&o.$data,y;c?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",y="schema"+n):y=o,c||(r+=" var schema"+n+" = validate.schema"+f+";"),r+="var "+x+" = equal("+m+", schema"+n+"); if (!"+x+") {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var v=r;return r=g.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",h&&(r+=" else { "),r}});var Yn=z((Wh,Gn)=>{"use strict";Gn.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="valid"+n,c="errs__"+n,y=e.util.copy(e),g="";y.level++;var v="valid"+y.level,b="i"+n,w=y.dataLevel=e.dataLevel+1,S="data"+w,$=e.baseId,O=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+c+" = errors;var "+x+";",O){var C=e.compositeRule;e.compositeRule=y.compositeRule=!0,y.schema=o,y.schemaPath=f,y.errSchemaPath=u,r+=" var "+v+" = false; for (var "+b+" = 0; "+b+" < "+m+".length; "+b+"++) { ",y.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,!0);var U=m+"["+b+"]";y.dataPathArr[w]=b;var L=e.validate(y);y.baseId=$,e.util.varOccurences(L,S)<2?r+=" "+e.util.varReplace(L,S,U)+" ":r+=" var "+S+" = "+U+"; "+L+" ",r+=" if ("+v+") break; }  ",e.compositeRule=y.compositeRule=C,r+=" "+g+" if (!"+v+") {"}else r+=" if ("+m+".length == 0) {";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var M=r;return r=I.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+M+"]); ":r+=" validate.errors = ["+M+"]; return false; ":r+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",O&&(r+="  errors = "+c+"; if (vErrors !== null) { if ("+c+") vErrors.length = "+c+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r}});var eo=z((Gh,Xn)=>{"use strict";Xn.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="errs__"+n,c=e.util.copy(e),y="";c.level++;var g="valid"+c.level,v={},b={},w=e.opts.ownProperties;for(C in o)if(C!="__proto__"){var S=o[C],$=Array.isArray(S)?b:v;$[C]=S}r+="var "+x+" = errors;";var O=e.errorPath;r+="var missing"+n+";";for(var C in b)if($=b[C],$.length){if(r+=" if ( "+m+e.util.getProperty(C)+" !== undefined ",w&&(r+=" && Object.prototype.hasOwnProperty.call("+m+", '"+e.util.escapeQuotes(C)+"') "),h){r+=" && ( ";var U=$;if(U)for(var L,I=-1,M=U.length-1;I<M;){L=U[I+=1],I&&(r+=" || ");var q=e.util.getProperty(L),N=m+q;r+=" ( ( "+N+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+m+", '"+e.util.escapeQuotes(L)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?L:q)+") ) "}r+=")) {  ";var T="missing"+n,k="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,T,!0):O+" + "+T);var F=F||[];F.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(C)+"', missingProperty: '"+k+"', depsCount: "+$.length+", deps: '"+e.util.escapeQuotes($.length==1?$[0]:$.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",$.length==1?r+="property "+e.util.escapeQuotes($[0]):r+="properties "+e.util.escapeQuotes($.join(", ")),r+=" when property "+e.util.escapeQuotes(C)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var oe=r;r=F.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+oe+"]); ":r+=" validate.errors = ["+oe+"]; return false; ":r+=" var err = "+oe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var G=$;if(G)for(var L,X=-1,W=G.length-1;X<W;){L=G[X+=1];var q=e.util.getProperty(L),k=e.util.escapeQuotes(L),N=m+q;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,L,e.opts.jsonPointers)),r+=" if ( "+N+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+m+", '"+e.util.escapeQuotes(L)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(C)+"', missingProperty: '"+k+"', depsCount: "+$.length+", deps: '"+e.util.escapeQuotes($.length==1?$[0]:$.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",$.length==1?r+="property "+e.util.escapeQuotes($[0]):r+="properties "+e.util.escapeQuotes($.join(", ")),r+=" when property "+e.util.escapeQuotes(C)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",h&&(y+="}",r+=" else { ")}e.errorPath=O;var H=c.baseId;for(var C in v){var S=v[C];(e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all))&&(r+=" "+g+" = true; if ( "+m+e.util.getProperty(C)+" !== undefined ",w&&(r+=" && Object.prototype.hasOwnProperty.call("+m+", '"+e.util.escapeQuotes(C)+"') "),r+=") { ",c.schema=S,c.schemaPath=f+e.util.getProperty(C),c.errSchemaPath=u+"/"+e.util.escapeFragment(C),r+="  "+e.validate(c)+" ",c.baseId=H,r+=" }  ",h&&(r+=" if ("+g+") { ",y+="}"))}return h&&(r+="   "+y+" if ("+x+" == errors) {"),r}});var to=z((Yh,ro)=>{"use strict";ro.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="valid"+n,c=e.opts.$data&&o&&o.$data,y;c?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",y="schema"+n):y=o;var g="i"+n,v="schema"+n;c||(r+=" var "+v+" = validate.schema"+f+";"),r+="var "+x+";",c&&(r+=" if (schema"+n+" === undefined) "+x+" = true; else if (!Array.isArray(schema"+n+")) "+x+" = false; else {"),r+=""+x+" = false;for (var "+g+"=0; "+g+"<"+v+".length; "+g+"++) if (equal("+m+", "+v+"["+g+"])) { "+x+" = true; break; }",c&&(r+="  }  "),r+=" if (!"+x+") {   ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var w=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",h&&(r+=" else { "),r}});var so=z((Xh,ao)=>{"use strict";ao.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||"");if(e.opts.format===!1)return h&&(r+=" if (true) { "),r;var x=e.opts.$data&&o&&o.$data,c;x?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",c="schema"+n):c=o;var y=e.opts.unknownFormats,g=Array.isArray(y);if(x){var v="format"+n,b="isObject"+n,w="formatType"+n;r+=" var "+v+" = formats["+c+"]; var "+b+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+w+" = "+b+" && "+v+".type || 'string'; if ("+b+") { ",e.async&&(r+=" var async"+n+" = "+v+".async; "),r+=" "+v+" = "+v+".validate; } if (  ",x&&(r+=" ("+c+" !== undefined && typeof "+c+" != 'string') || "),r+=" (",y!="ignore"&&(r+=" ("+c+" && !"+v+" ",g&&(r+=" && self._opts.unknownFormats.indexOf("+c+") == -1 "),r+=") || "),r+=" ("+v+" && "+w+" == '"+s+"' && !(typeof "+v+" == 'function' ? ",e.async?r+=" (async"+n+" ? await "+v+"("+m+") : "+v+"("+m+")) ":r+=" "+v+"("+m+") ",r+=" : "+v+".test("+m+"))))) {"}else{var v=e.formats[o];if(!v){if(y=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),h&&(r+=" if (true) { "),r;if(g&&y.indexOf(o)>=0)return h&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var b=typeof v=="object"&&!(v instanceof RegExp)&&v.validate,w=b&&v.type||"string";if(b){var S=v.async===!0;v=v.validate}if(w!=s)return h&&(r+=" if (true) { "),r;if(S){if(!e.async)throw new Error("async format in sync schema");var $="formats"+e.util.getProperty(o)+".validate";r+=" if (!(await "+$+"("+m+"))) { "}else{r+=" if (! ";var $="formats"+e.util.getProperty(o);b&&($+=".validate"),typeof v=="function"?r+=" "+$+"("+m+") ":r+=" "+$+".test("+m+") ",r+=") { "}}var O=O||[];O.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",x?r+=""+c:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,x?r+="' + "+c+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",x?r+="validate.schema"+f:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var C=r;return r=O.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { "),r}});var oo=z((ep,no)=>{"use strict";no.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="valid"+n,c="errs__"+n,y=e.util.copy(e);y.level++;var g="valid"+y.level,v=e.schema.then,b=e.schema.else,w=v!==void 0&&(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:e.util.schemaHasRules(v,e.RULES.all)),S=b!==void 0&&(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all)),$=y.baseId;if(w||S){var O;y.createErrors=!1,y.schema=o,y.schemaPath=f,y.errSchemaPath=u,r+=" var "+c+" = errors; var "+x+" = true;  ";var C=e.compositeRule;e.compositeRule=y.compositeRule=!0,r+="  "+e.validate(y)+" ",y.baseId=$,y.createErrors=!0,r+="  errors = "+c+"; if (vErrors !== null) { if ("+c+") vErrors.length = "+c+"; else vErrors = null; }  ",e.compositeRule=y.compositeRule=C,w?(r+=" if ("+g+") {  ",y.schema=e.schema.then,y.schemaPath=e.schemaPath+".then",y.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(y)+" ",y.baseId=$,r+=" "+x+" = "+g+"; ",w&&S?(O="ifClause"+n,r+=" var "+O+" = 'then'; "):O="'then'",r+=" } ",S&&(r+=" else { ")):r+=" if (!"+g+") { ",S&&(y.schema=e.schema.else,y.schemaPath=e.schemaPath+".else",y.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(y)+" ",y.baseId=$,r+=" "+x+" = "+g+"; ",w&&S?(O="ifClause"+n,r+=" var "+O+" = 'else'; "):O="'else'",r+=" } "),r+=" if (!"+x+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+O+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+O+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",h&&(r+=" else { ")}else h&&(r+=" if (true) { ");return r}});var lo=z((rp,io)=>{"use strict";io.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="valid"+n,c="errs__"+n,y=e.util.copy(e),g="";y.level++;var v="valid"+y.level,b="i"+n,w=y.dataLevel=e.dataLevel+1,S="data"+w,$=e.baseId;if(r+="var "+c+" = errors;var "+x+";",Array.isArray(o)){var O=e.schema.additionalItems;if(O===!1){r+=" "+x+" = "+m+".length <= "+o.length+"; ";var C=u;u=e.errSchemaPath+"/additionalItems",r+="  if (!"+x+") {   ";var U=U||[];U.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var L=r;r=U.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=C,h&&(g+="}",r+=" else { ")}var I=o;if(I){for(var M,q=-1,N=I.length-1;q<N;)if(M=I[q+=1],e.opts.strictKeywords?typeof M=="object"&&Object.keys(M).length>0||M===!1:e.util.schemaHasRules(M,e.RULES.all)){r+=" "+v+" = true; if ("+m+".length > "+q+") { ";var T=m+"["+q+"]";y.schema=M,y.schemaPath=f+"["+q+"]",y.errSchemaPath=u+"/"+q,y.errorPath=e.util.getPathExpr(e.errorPath,q,e.opts.jsonPointers,!0),y.dataPathArr[w]=q;var k=e.validate(y);y.baseId=$,e.util.varOccurences(k,S)<2?r+=" "+e.util.varReplace(k,S,T)+" ":r+=" var "+S+" = "+T+"; "+k+" ",r+=" }  ",h&&(r+=" if ("+v+") { ",g+="}")}}if(typeof O=="object"&&(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))){y.schema=O,y.schemaPath=e.schemaPath+".additionalItems",y.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+v+" = true; if ("+m+".length > "+o.length+") {  for (var "+b+" = "+o.length+"; "+b+" < "+m+".length; "+b+"++) { ",y.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,!0);var T=m+"["+b+"]";y.dataPathArr[w]=b;var k=e.validate(y);y.baseId=$,e.util.varOccurences(k,S)<2?r+=" "+e.util.varReplace(k,S,T)+" ":r+=" var "+S+" = "+T+"; "+k+" ",h&&(r+=" if (!"+v+") break; "),r+=" } }  ",h&&(r+=" if ("+v+") { ",g+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){y.schema=o,y.schemaPath=f,y.errSchemaPath=u,r+="  for (var "+b+" = 0; "+b+" < "+m+".length; "+b+"++) { ",y.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,!0);var T=m+"["+b+"]";y.dataPathArr[w]=b;var k=e.validate(y);y.baseId=$,e.util.varOccurences(k,S)<2?r+=" "+e.util.varReplace(k,S,T)+" ":r+=" var "+S+" = "+T+"; "+k+" ",h&&(r+=" if (!"+v+") break; "),r+=" }"}return h&&(r+=" "+g+" if ("+c+" == errors) {"),r}});var Ka=z((tp,co)=>{"use strict";co.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,$,m="data"+(i||""),x=e.opts.$data&&o&&o.$data,c;x?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",c="schema"+n):c=o;var y=t=="maximum",g=y?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[g],b=e.opts.$data&&v&&v.$data,w=y?"<":">",S=y?">":"<",$=void 0;if(!(x||typeof o=="number"||o===void 0))throw new Error(t+" must be number");if(!(b||v===void 0||typeof v=="number"||typeof v=="boolean"))throw new Error(g+" must be number or boolean");if(b){var O=e.util.getData(v.$data,i,e.dataPathArr),C="exclusive"+n,U="exclType"+n,L="exclIsNumber"+n,I="op"+n,M="' + "+I+" + '";r+=" var schemaExcl"+n+" = "+O+"; ",O="schemaExcl"+n,r+=" var "+C+"; var "+U+" = typeof "+O+"; if ("+U+" != 'boolean' && "+U+" != 'undefined' && "+U+" != 'number') { ";var $=g,q=q||[];q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+($||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+g+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var N=r;r=q.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+N+"]); ":r+=" validate.errors = ["+N+"]; return false; ":r+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",x&&(r+=" ("+c+" !== undefined && typeof "+c+" != 'number') || "),r+=" "+U+" == 'number' ? ( ("+C+" = "+c+" === undefined || "+O+" "+w+"= "+c+") ? "+m+" "+S+"= "+O+" : "+m+" "+S+" "+c+" ) : ( ("+C+" = "+O+" === true) ? "+m+" "+S+"= "+c+" : "+m+" "+S+" "+c+" ) || "+m+" !== "+m+") { var op"+n+" = "+C+" ? '"+w+"' : '"+w+"='; ",o===void 0&&($=g,u=e.errSchemaPath+"/"+g,c=O,x=b)}else{var L=typeof v=="number",M=w;if(L&&x){var I="'"+M+"'";r+=" if ( ",x&&(r+=" ("+c+" !== undefined && typeof "+c+" != 'number') || "),r+=" ( "+c+" === undefined || "+v+" "+w+"= "+c+" ? "+m+" "+S+"= "+v+" : "+m+" "+S+" "+c+" ) || "+m+" !== "+m+") { "}else{L&&o===void 0?(C=!0,$=g,u=e.errSchemaPath+"/"+g,c=v,S+="="):(L&&(c=Math[y?"min":"max"](v,o)),v===(L?c:!0)?(C=!0,$=g,u=e.errSchemaPath+"/"+g,S+="="):(C=!1,M+="="));var I="'"+M+"'";r+=" if ( ",x&&(r+=" ("+c+" !== undefined && typeof "+c+" != 'number') || "),r+=" "+m+" "+S+" "+c+" || "+m+" !== "+m+") { "}}$=$||t;var q=q||[];q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+($||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+I+", limit: "+c+", exclusive: "+C+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+M+" ",x?r+="' + "+c:r+=""+c+"'"),e.opts.verbose&&(r+=" , schema:  ",x?r+="validate.schema"+f:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var N=r;return r=q.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+N+"]); ":r+=" validate.errors = ["+N+"]; return false; ":r+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { "),r}});var Wa=z((ap,uo)=>{"use strict";uo.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,g,m="data"+(i||""),x=e.opts.$data&&o&&o.$data,c;if(x?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",c="schema"+n):c=o,!(x||typeof o=="number"))throw new Error(t+" must be number");var y=t=="maxItems"?">":"<";r+="if ( ",x&&(r+=" ("+c+" !== undefined && typeof "+c+" != 'number') || "),r+=" "+m+".length "+y+" "+c+") { ";var g=t,v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+c+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",x?r+="' + "+c+" + '":r+=""+o,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",x?r+="validate.schema"+f:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var b=r;return r=v.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}});var Ga=z((sp,fo)=>{"use strict";fo.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,g,m="data"+(i||""),x=e.opts.$data&&o&&o.$data,c;if(x?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",c="schema"+n):c=o,!(x||typeof o=="number"))throw new Error(t+" must be number");var y=t=="maxLength"?">":"<";r+="if ( ",x&&(r+=" ("+c+" !== undefined && typeof "+c+" != 'number') || "),e.opts.unicode===!1?r+=" "+m+".length ":r+=" ucs2length("+m+") ",r+=" "+y+" "+c+") { ";var g=t,v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+c+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",x?r+="' + "+c+" + '":r+=""+o,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",x?r+="validate.schema"+f:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var b=r;return r=v.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}});var Ya=z((np,ho)=>{"use strict";ho.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,g,m="data"+(i||""),x=e.opts.$data&&o&&o.$data,c;if(x?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",c="schema"+n):c=o,!(x||typeof o=="number"))throw new Error(t+" must be number");var y=t=="maxProperties"?">":"<";r+="if ( ",x&&(r+=" ("+c+" !== undefined && typeof "+c+" != 'number') || "),r+=" Object.keys("+m+").length "+y+" "+c+") { ";var g=t,v=v||[];v.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+c+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",x?r+="' + "+c+" + '":r+=""+o,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",x?r+="validate.schema"+f:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var b=r;return r=v.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}});var mo=z((op,po)=>{"use strict";po.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x=e.opts.$data&&o&&o.$data,c;if(x?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",c="schema"+n):c=o,!(x||typeof o=="number"))throw new Error(t+" must be number");r+="var division"+n+";if (",x&&(r+=" "+c+" !== undefined && ( typeof "+c+" != 'number' || "),r+=" (division"+n+" = "+m+" / "+c+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+n+") - division"+n+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+n+" !== parseInt(division"+n+") ",r+=" ) ",x&&(r+="  )  "),r+=" ) {   ";var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+c+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",x?r+="' + "+c:r+=""+c+"'"),e.opts.verbose&&(r+=" , schema:  ",x?r+="validate.schema"+f:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var g=r;return r=y.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}});var go=z((ip,vo)=>{"use strict";vo.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="errs__"+n,c=e.util.copy(e);c.level++;var y="valid"+c.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){c.schema=o,c.schemaPath=f,c.errSchemaPath=u,r+=" var "+x+" = errors;  ";var g=e.compositeRule;e.compositeRule=c.compositeRule=!0,c.createErrors=!1;var v;c.opts.allErrors&&(v=c.opts.allErrors,c.opts.allErrors=!1),r+=" "+e.validate(c)+" ",c.createErrors=!0,v&&(c.opts.allErrors=v),e.compositeRule=c.compositeRule=g,r+=" if ("+y+") {   ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var w=r;r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+x+"; if (vErrors !== null) { if ("+x+") vErrors.length = "+x+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(r+=" if (false) { ");return r}});var _o=z((lp,yo)=>{"use strict";yo.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="valid"+n,c="errs__"+n,y=e.util.copy(e),g="";y.level++;var v="valid"+y.level,b=y.baseId,w="prevValid"+n,S="passingSchemas"+n;r+="var "+c+" = errors , "+w+" = false , "+x+" = false , "+S+" = null; ";var $=e.compositeRule;e.compositeRule=y.compositeRule=!0;var O=o;if(O)for(var C,U=-1,L=O.length-1;U<L;)C=O[U+=1],(e.opts.strictKeywords?typeof C=="object"&&Object.keys(C).length>0||C===!1:e.util.schemaHasRules(C,e.RULES.all))?(y.schema=C,y.schemaPath=f+"["+U+"]",y.errSchemaPath=u+"/"+U,r+="  "+e.validate(y)+" ",y.baseId=b):r+=" var "+v+" = true; ",U&&(r+=" if ("+v+" && "+w+") { "+x+" = false; "+S+" = ["+S+", "+U+"]; } else { ",g+="}"),r+=" if ("+v+") { "+x+" = "+w+" = true; "+S+" = "+U+"; }";return e.compositeRule=y.compositeRule=$,r+=""+g+"if (!"+x+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+S+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+c+"; if (vErrors !== null) { if ("+c+") vErrors.length = "+c+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}});var Eo=z((cp,xo)=>{"use strict";xo.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x=e.opts.$data&&o&&o.$data,c;x?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",c="schema"+n):c=o;var y=x?"(new RegExp("+c+"))":e.usePattern(o);r+="if ( ",x&&(r+=" ("+c+" !== undefined && typeof "+c+" != 'string') || "),r+=" !"+y+".test("+m+") ) {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",x?r+=""+c:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,x?r+="' + "+c+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",x?r+="validate.schema"+f:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var v=r;return r=g.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r}});var Po=z((up,bo)=>{"use strict";bo.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="errs__"+n,c=e.util.copy(e),y="";c.level++;var g="valid"+c.level,v="key"+n,b="idx"+n,w=c.dataLevel=e.dataLevel+1,S="data"+w,$="dataProperties"+n,O=Object.keys(o||{}).filter(X),C=e.schema.patternProperties||{},U=Object.keys(C).filter(X),L=e.schema.additionalProperties,I=O.length||U.length,M=L===!1,q=typeof L=="object"&&Object.keys(L).length,N=e.opts.removeAdditional,T=M||q||N,k=e.opts.ownProperties,F=e.baseId,oe=e.schema.required;if(oe&&!(e.opts.$data&&oe.$data)&&oe.length<e.opts.loopRequired)var G=e.util.toHash(oe);function X(Ze){return Ze!=="__proto__"}if(r+="var "+x+" = errors;var "+g+" = true;",k&&(r+=" var "+$+" = undefined;"),T){if(k?r+=" "+$+" = "+$+" || Object.keys("+m+"); for (var "+b+"=0; "+b+"<"+$+".length; "+b+"++) { var "+v+" = "+$+"["+b+"]; ":r+=" for (var "+v+" in "+m+") { ",I){if(r+=" var isAdditional"+n+" = !(false ",O.length)if(O.length>8)r+=" || validate.schema"+f+".hasOwnProperty("+v+") ";else{var W=O;if(W)for(var H,fe=-1,be=W.length-1;fe<be;)H=W[fe+=1],r+=" || "+v+" == "+e.util.toQuotedString(H)+" "}if(U.length){var we=U;if(we)for(var te,me=-1,_e=we.length-1;me<_e;)te=we[me+=1],r+=" || "+e.usePattern(te)+".test("+v+") "}r+=" ); if (isAdditional"+n+") { "}if(N=="all")r+=" delete "+m+"["+v+"]; ";else{var Re=e.errorPath,ur="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),M)if(N)r+=" delete "+m+"["+v+"]; ";else{r+=" "+g+" = false; ";var rr=u;u=e.errSchemaPath+"/additionalProperties";var ve=ve||[];ve.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+ur+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var he=r;r=ve.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+he+"]); ":r+=" validate.errors = ["+he+"]; return false; ":r+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=rr,h&&(r+=" break; ")}else if(q)if(N=="failing"){r+=" var "+x+" = errors;  ";var _r=e.compositeRule;e.compositeRule=c.compositeRule=!0,c.schema=L,c.schemaPath=e.schemaPath+".additionalProperties",c.errSchemaPath=e.errSchemaPath+"/additionalProperties",c.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var Pe=m+"["+v+"]";c.dataPathArr[w]=v;var se=e.validate(c);c.baseId=F,e.util.varOccurences(se,S)<2?r+=" "+e.util.varReplace(se,S,Pe)+" ":r+=" var "+S+" = "+Pe+"; "+se+" ",r+=" if (!"+g+") { errors = "+x+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+m+"["+v+"]; }  ",e.compositeRule=c.compositeRule=_r}else{c.schema=L,c.schemaPath=e.schemaPath+".additionalProperties",c.errSchemaPath=e.errSchemaPath+"/additionalProperties",c.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var Pe=m+"["+v+"]";c.dataPathArr[w]=v;var se=e.validate(c);c.baseId=F,e.util.varOccurences(se,S)<2?r+=" "+e.util.varReplace(se,S,Pe)+" ":r+=" var "+S+" = "+Pe+"; "+se+" ",h&&(r+=" if (!"+g+") break; ")}e.errorPath=Re}I&&(r+=" } "),r+=" }  ",h&&(r+=" if ("+g+") { ",y+="}")}var dr=e.opts.useDefaults&&!e.compositeRule;if(O.length){var tr=O;if(tr)for(var H,xr=-1,Er=tr.length-1;xr<Er;){H=tr[xr+=1];var xe=o[H];if(e.opts.strictKeywords?typeof xe=="object"&&Object.keys(xe).length>0||xe===!1:e.util.schemaHasRules(xe,e.RULES.all)){var Ne=e.util.getProperty(H),Pe=m+Ne,Te=dr&&xe.default!==void 0;c.schema=xe,c.schemaPath=f+Ne,c.errSchemaPath=u+"/"+e.util.escapeFragment(H),c.errorPath=e.util.getPath(e.errorPath,H,e.opts.jsonPointers),c.dataPathArr[w]=e.util.toQuotedString(H);var se=e.validate(c);if(c.baseId=F,e.util.varOccurences(se,S)<2){se=e.util.varReplace(se,S,Pe);var $e=Pe}else{var $e=S;r+=" var "+S+" = "+Pe+"; "}if(Te)r+=" "+se+" ";else{if(G&&G[H]){r+=" if ( "+$e+" === undefined ",k&&(r+=" || ! Object.prototype.hasOwnProperty.call("+m+", '"+e.util.escapeQuotes(H)+"') "),r+=") { "+g+" = false; ";var Re=e.errorPath,rr=u,Je=e.util.escapeQuotes(H);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Re,H,e.opts.jsonPointers)),u=e.errSchemaPath+"/required";var ve=ve||[];ve.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+Je+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+Je+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var he=r;r=ve.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+he+"]); ":r+=" validate.errors = ["+he+"]; return false; ":r+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=rr,e.errorPath=Re,r+=" } else { "}else h?(r+=" if ( "+$e+" === undefined ",k&&(r+=" || ! Object.prototype.hasOwnProperty.call("+m+", '"+e.util.escapeQuotes(H)+"') "),r+=") { "+g+" = true; } else { "):(r+=" if ("+$e+" !== undefined ",k&&(r+=" &&   Object.prototype.hasOwnProperty.call("+m+", '"+e.util.escapeQuotes(H)+"') "),r+=" ) { ");r+=" "+se+" } "}}h&&(r+=" if ("+g+") { ",y+="}")}}if(U.length){var Ae=U;if(Ae)for(var te,Pt=-1,fa=Ae.length-1;Pt<fa;){te=Ae[Pt+=1];var xe=C[te];if(e.opts.strictKeywords?typeof xe=="object"&&Object.keys(xe).length>0||xe===!1:e.util.schemaHasRules(xe,e.RULES.all)){c.schema=xe,c.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(te),c.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(te),k?r+=" "+$+" = "+$+" || Object.keys("+m+"); for (var "+b+"=0; "+b+"<"+$+".length; "+b+"++) { var "+v+" = "+$+"["+b+"]; ":r+=" for (var "+v+" in "+m+") { ",r+=" if ("+e.usePattern(te)+".test("+v+")) { ",c.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var Pe=m+"["+v+"]";c.dataPathArr[w]=v;var se=e.validate(c);c.baseId=F,e.util.varOccurences(se,S)<2?r+=" "+e.util.varReplace(se,S,Pe)+" ":r+=" var "+S+" = "+Pe+"; "+se+" ",h&&(r+=" if (!"+g+") break; "),r+=" } ",h&&(r+=" else "+g+" = true; "),r+=" }  ",h&&(r+=" if ("+g+") { ",y+="}")}}}return h&&(r+=" "+y+" if ("+x+" == errors) {"),r}});var wo=z((dp,So)=>{"use strict";So.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="errs__"+n,c=e.util.copy(e),y="";c.level++;var g="valid"+c.level;if(r+="var "+x+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){c.schema=o,c.schemaPath=f,c.errSchemaPath=u;var v="key"+n,b="idx"+n,w="i"+n,S="' + "+v+" + '",$=c.dataLevel=e.dataLevel+1,O="data"+$,C="dataProperties"+n,U=e.opts.ownProperties,L=e.baseId;U&&(r+=" var "+C+" = undefined; "),U?r+=" "+C+" = "+C+" || Object.keys("+m+"); for (var "+b+"=0; "+b+"<"+C+".length; "+b+"++) { var "+v+" = "+C+"["+b+"]; ":r+=" for (var "+v+" in "+m+") { ",r+=" var startErrs"+n+" = errors; ";var I=v,M=e.compositeRule;e.compositeRule=c.compositeRule=!0;var q=e.validate(c);c.baseId=L,e.util.varOccurences(q,O)<2?r+=" "+e.util.varReplace(q,O,I)+" ":r+=" var "+O+" = "+I+"; "+q+" ",e.compositeRule=c.compositeRule=M,r+=" if (!"+g+") { for (var "+w+"=startErrs"+n+"; "+w+"<errors; "+w+"++) { vErrors["+w+"].propertyName = "+v+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+S+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+S+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),h&&(r+=" break; "),r+=" } }"}return h&&(r+=" "+y+" if ("+x+" == errors) {"),r}});var $o=z((fp,Ro)=>{"use strict";Ro.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="valid"+n,c=e.opts.$data&&o&&o.$data,y;c?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",y="schema"+n):y=o;var g="schema"+n;if(!c)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var v=[],b=o;if(b)for(var w,S=-1,$=b.length-1;S<$;){w=b[S+=1];var O=e.schema.properties[w];O&&(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))||(v[v.length]=w)}}else var v=o;if(c||v.length){var C=e.errorPath,U=c||v.length>=e.opts.loopRequired,L=e.opts.ownProperties;if(h)if(r+=" var missing"+n+"; ",U){c||(r+=" var "+g+" = validate.schema"+f+"; ");var I="i"+n,M="schema"+n+"["+I+"]",q="' + "+M+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(C,M,e.opts.jsonPointers)),r+=" var "+x+" = true; ",c&&(r+=" if (schema"+n+" === undefined) "+x+" = true; else if (!Array.isArray(schema"+n+")) "+x+" = false; else {"),r+=" for (var "+I+" = 0; "+I+" < "+g+".length; "+I+"++) { "+x+" = "+m+"["+g+"["+I+"]] !== undefined ",L&&(r+=" &&   Object.prototype.hasOwnProperty.call("+m+", "+g+"["+I+"]) "),r+="; if (!"+x+") break; } ",c&&(r+="  }  "),r+="  if (!"+x+") {   ";var N=N||[];N.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var T=r;r=N.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var k=v;if(k)for(var F,I=-1,oe=k.length-1;I<oe;){F=k[I+=1],I&&(r+=" || ");var G=e.util.getProperty(F),X=m+G;r+=" ( ( "+X+" === undefined ",L&&(r+=" || ! Object.prototype.hasOwnProperty.call("+m+", '"+e.util.escapeQuotes(F)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?F:G)+") ) "}r+=") {  ";var M="missing"+n,q="' + "+M+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(C,M,!0):C+" + "+M);var N=N||[];N.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var T=r;r=N.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(U){c||(r+=" var "+g+" = validate.schema"+f+"; ");var I="i"+n,M="schema"+n+"["+I+"]",q="' + "+M+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(C,M,e.opts.jsonPointers)),c&&(r+=" if ("+g+" && !Array.isArray("+g+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+g+" !== undefined) { "),r+=" for (var "+I+" = 0; "+I+" < "+g+".length; "+I+"++) { if ("+m+"["+g+"["+I+"]] === undefined ",L&&(r+=" || ! Object.prototype.hasOwnProperty.call("+m+", "+g+"["+I+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",c&&(r+="  }  ")}else{var W=v;if(W)for(var F,H=-1,fe=W.length-1;H<fe;){F=W[H+=1];var G=e.util.getProperty(F),q=e.util.escapeQuotes(F),X=m+G;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(C,F,e.opts.jsonPointers)),r+=" if ( "+X+" === undefined ",L&&(r+=" || ! Object.prototype.hasOwnProperty.call("+m+", '"+e.util.escapeQuotes(F)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+q+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=C}else h&&(r+=" if (true) {");return r}});var Oo=z((hp,To)=>{"use strict";To.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(i||""),x="valid"+n,c=e.opts.$data&&o&&o.$data,y;if(c?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",y="schema"+n):y=o,(o||c)&&e.opts.uniqueItems!==!1){c&&(r+=" var "+x+"; if ("+y+" === false || "+y+" === undefined) "+x+" = true; else if (typeof "+y+" != 'boolean') "+x+" = false; else { "),r+=" var i = "+m+".length , "+x+" = true , j; if (i > 1) { ";var g=e.schema.items&&e.schema.items.type,v=Array.isArray(g);if(!g||g=="object"||g=="array"||v&&(g.indexOf("object")>=0||g.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+m+"[i], "+m+"[j])) { "+x+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+m+"[i]; ";var b="checkDataType"+(v?"s":"");r+=" if ("+e.util[b](g,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+x+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",c&&(r+="  }  "),r+=" if (!"+x+") {   ";var w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",c?r+="validate.schema"+f:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var S=r;r=w.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { ")}else h&&(r+=" if (true) { ");return r}});var Io=z((pp,Co)=>{"use strict";Co.exports={$ref:zn(),allOf:Hn(),anyOf:Zn(),$comment:Jn(),const:Wn(),contains:Yn(),dependencies:eo(),enum:to(),format:so(),if:oo(),items:lo(),maximum:Ka(),minimum:Ka(),maxItems:Wa(),minItems:Wa(),maxLength:Ga(),minLength:Ga(),maxProperties:Ya(),minProperties:Ya(),multipleOf:mo(),not:go(),oneOf:_o(),pattern:Eo(),properties:Po(),propertyNames:wo(),required:$o(),uniqueItems:Oo(),validate:Ba()}});var Do=z((mp,Ao)=>{"use strict";var ko=Io(),Xa=zr().toHash;Ao.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],s=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=Xa(t),e.types=Xa(r),e.forEach(function(n){n.rules=n.rules.map(function(i){var o;if(typeof i=="object"){var f=Object.keys(i)[0];o=i[f],i=f,o.forEach(function(h){t.push(h),e.all[h]=!0})}t.push(i);var u=e.all[i]={keyword:i,code:ko[i],implements:o};return u}),e.all.$comment={keyword:"$comment",code:ko.$comment},n.type&&(e.types[n.type]=n)}),e.keywords=Xa(t.concat(s)),e.custom={},e}});var Fo=z((vp,No)=>{"use strict";var jo=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];No.exports=function(a,e){for(var t=0;t<e.length;t++){a=JSON.parse(JSON.stringify(a));var s=e[t].split("/"),r=a,n;for(n=1;n<s.length;n++)r=r[s[n]];for(n=0;n<jo.length;n++){var i=jo[n],o=r[i];o&&(r[i]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a}});var Mo=z((gp,Lo)=>{"use strict";var Pd=Yt().MissingRef;Lo.exports=qo;function qo(a,e,t){var s=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=n(a).then(function(){var o=s._addSchema(a,void 0,e);return o.validate||i(o)});return t&&r.then(function(o){t(null,o)},t),r;function n(o){var f=o.$schema;return f&&!s.getSchema(f)?qo.call(s,{$ref:f},!0):Promise.resolve()}function i(o){try{return s._compile(o)}catch(u){if(u instanceof Pd)return f(u);throw u}function f(u){var h=u.missingSchema;if(c(h))throw new Error("Schema "+h+" is loaded but "+u.missingRef+" cannot be resolved");var m=s._loadingSchemas[h];return m||(m=s._loadingSchemas[h]=s._opts.loadSchema(h),m.then(x,x)),m.then(function(y){if(!c(h))return n(y).then(function(){c(h)||s.addSchema(y,h,void 0,e)})}).then(function(){return i(o)});function x(){delete s._loadingSchemas[h]}function c(y){return s._refs[y]||s._schemas[y]}}}}});var zo=z((yp,Vo)=>{"use strict";Vo.exports=function(e,t,s){var r=" ",n=e.level,i=e.dataLevel,o=e.schema[t],f=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m,x="data"+(i||""),c="valid"+n,y="errs__"+n,g=e.opts.$data&&o&&o.$data,v;g?(r+=" var schema"+n+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",v="schema"+n):v=o;var b=this,w="definition"+n,S=b.definition,$="",O,C,U,L,I;if(g&&S.$data){I="keywordValidate"+n;var M=S.validateSchema;r+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+I+" = "+w+".validate;"}else{if(L=e.useCustomRule(b,o,e.schema,e),!L)return;v="validate.schema"+f,I=L.code,O=S.compile,C=S.inline,U=S.macro}var q=I+".errors",N="i"+n,T="ruleErr"+n,k=S.async;if(k&&!e.async)throw new Error("async keyword in sync schema");if(C||U||(r+=""+q+" = null;"),r+="var "+y+" = errors;var "+c+";",g&&S.$data&&($+="}",r+=" if ("+v+" === undefined) { "+c+" = true; } else { ",M&&($+="}",r+=" "+c+" = "+w+".validateSchema("+v+"); if ("+c+") { ")),C)S.statements?r+=" "+L.validate+" ":r+=" "+c+" = "+L.validate+"; ";else if(U){var F=e.util.copy(e),$="";F.level++;var oe="valid"+F.level;F.schema=L.validate,F.schemaPath="";var G=e.compositeRule;e.compositeRule=F.compositeRule=!0;var X=e.validate(F).replace(/validate\.schema/g,I);e.compositeRule=F.compositeRule=G,r+=" "+X}else{var W=W||[];W.push(r),r="",r+="  "+I+".call( ",e.opts.passContext?r+="this":r+="self",O||S.schema===!1?r+=" , "+x+" ":r+=" , "+v+" , "+x+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var H=i?"data"+(i-1||""):"parentData",fe=i?e.dataPathArr[i]:"parentDataProperty";r+=" , "+H+" , "+fe+" , rootData )  ";var be=r;r=W.pop(),S.errors===!1?(r+=" "+c+" = ",k&&(r+="await "),r+=""+be+"; "):k?(q="customErrors"+n,r+=" var "+q+" = null; try { "+c+" = await "+be+"; } catch (e) { "+c+" = false; if (e instanceof ValidationError) "+q+" = e.errors; else throw e; } "):r+=" "+q+" = null; "+c+" = "+be+"; "}if(S.modifying&&(r+=" if ("+H+") "+x+" = "+H+"["+fe+"];"),r+=""+$,S.valid)h&&(r+=" if (true) { ");else{r+=" if ( ",S.valid===void 0?(r+=" !",U?r+=""+oe:r+=""+c):r+=" "+!S.valid+" ",r+=") { ",m=b.keyword;var W=W||[];W.push(r),r="";var W=W||[];W.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(m||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+b.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+x+" "),r+=" } "):r+=" {} ";var we=r;r=W.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+we+"]); ":r+=" validate.errors = ["+we+"]; return false; ":r+=" var err = "+we+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var te=r;r=W.pop(),C?S.errors?S.errors!="full"&&(r+="  for (var "+N+"="+y+"; "+N+"<errors; "+N+"++) { var "+T+" = vErrors["+N+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(r+=" "+T+".schema = "+v+"; "+T+".data = "+x+"; "),r+=" } "):S.errors===!1?r+=" "+te+" ":(r+=" if ("+y+" == errors) { "+te+" } else {  for (var "+N+"="+y+"; "+N+"<errors; "+N+"++) { var "+T+" = vErrors["+N+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(r+=" "+T+".schema = "+v+"; "+T+".data = "+x+"; "),r+=" } } "):U?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(m||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+b.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+x+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):S.errors===!1?r+=" "+te+" ":(r+=" if (Array.isArray("+q+")) { if (vErrors === null) vErrors = "+q+"; else vErrors = vErrors.concat("+q+"); errors = vErrors.length;  for (var "+N+"="+y+"; "+N+"<errors; "+N+"++) { var "+T+" = vErrors["+N+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+";  "+T+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(r+=" "+T+".schema = "+v+"; "+T+".data = "+x+"; "),r+=" } } else { "+te+" } "),r+=" } ",h&&(r+=" else { ")}return r}});var es=z((_p,Sd)=>{Sd.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Qo=z((xp,Ho)=>{"use strict";var Uo=es();Ho.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Uo.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Uo.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var Bo=z((Ep,Zo)=>{"use strict";var wd=/^[a-z_$][a-z0-9_$-]*$/i,Rd=zo(),$d=Qo();Zo.exports={add:Td,get:Od,remove:Cd,validate:rs};function Td(a,e){var t=this.RULES;if(t.keywords[a])throw new Error("Keyword "+a+" is already defined");if(!wd.test(a))throw new Error("Keyword "+a+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var s=e.type;if(Array.isArray(s))for(var r=0;r<s.length;r++)i(a,s[r],e);else i(a,s,e);var n=e.metaSchema;n&&(e.$data&&this._opts.$data&&(n={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(n,!0))}t.keywords[a]=t.all[a]=!0;function i(o,f,u){for(var h,m=0;m<t.length;m++){var x=t[m];if(x.type==f){h=x;break}}h||(h={type:f,rules:[]},t.push(h));var c={keyword:o,definition:u,custom:!0,code:Rd,implements:u.implements};h.rules.push(c),t.custom[o]=c}return this}function Od(a){var e=this.RULES.custom[a];return e?e.definition:this.RULES.keywords[a]||!1}function Cd(a){var e=this.RULES;delete e.keywords[a],delete e.all[a],delete e.custom[a];for(var t=0;t<e.length;t++)for(var s=e[t].rules,r=0;r<s.length;r++)if(s[r].keyword==a){s.splice(r,1);break}return this}function rs(a,e){rs.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile($d,!0);if(t(a))return!0;if(rs.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}});var Jo=z((bp,Id)=>{Id.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var si=z((Pp,ai)=>{"use strict";var Wo=Rn(),Ur=Gt(),kd=Tn(),Go=Ma(),Ad=Za(),Dd=Mn(),jd=Do(),Yo=Fo(),Xo=zr();ai.exports=pe;pe.prototype.validate=Fd;pe.prototype.compile=qd;pe.prototype.addSchema=Ld;pe.prototype.addMetaSchema=Md;pe.prototype.validateSchema=Vd;pe.prototype.getSchema=Ud;pe.prototype.removeSchema=Qd;pe.prototype.addFormat=Xd;pe.prototype.errorsText=Yd;pe.prototype._addSchema=Zd;pe.prototype._compile=Bd;pe.prototype.compileAsync=Mo();var oa=Bo();pe.prototype.addKeyword=oa.add;pe.prototype.getKeyword=oa.get;pe.prototype.removeKeyword=oa.remove;pe.prototype.validateKeyword=oa.validate;var ei=Yt();pe.ValidationError=ei.Validation;pe.MissingRefError=ei.MissingRef;pe.$dataMetaSchema=Yo;var na="http://json-schema.org/draft-07/schema",Ko=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Nd=["/properties"];function pe(a){if(!(this instanceof pe))return new pe(a);a=this._opts=Xo.copy(a)||{},nf(this),this._schemas={},this._refs={},this._fragments={},this._formats=Dd(a.format),this._cache=a.cache||new kd,this._loadingSchemas={},this._compilations=[],this.RULES=jd(),this._getId=Jd(a),a.loopRequired=a.loopRequired||1/0,a.errorDataPath=="property"&&(a._errorDataPathProperty=!0),a.serialize===void 0&&(a.serialize=Ad),this._metaOpts=sf(this),a.formats&&tf(this),a.keywords&&af(this),ef(this),typeof a.meta=="object"&&this.addMetaSchema(a.meta),a.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),rf(this)}function Fd(a,e){var t;if(typeof a=="string"){if(t=this.getSchema(a),!t)throw new Error('no schema with key or ref "'+a+'"')}else{var s=this._addSchema(a);t=s.validate||this._compile(s)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}function qd(a,e){var t=this._addSchema(a,void 0,e);return t.validate||this._compile(t)}function Ld(a,e,t,s){if(Array.isArray(a)){for(var r=0;r<a.length;r++)this.addSchema(a[r],void 0,t,s);return this}var n=this._getId(a);if(n!==void 0&&typeof n!="string")throw new Error("schema id must be string");return e=Ur.normalizeId(e||n),ti(this,e),this._schemas[e]=this._addSchema(a,t,s,!0),this}function Md(a,e,t){return this.addSchema(a,e,t,!0),this}function Vd(a,e){var t=a.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||zd(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var s=this.validate(t,a);if(!s&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return s}function zd(a){var e=a._opts.meta;return a._opts.defaultMeta=typeof e=="object"?a._getId(e)||e:a.getSchema(na)?na:void 0,a._opts.defaultMeta}function Ud(a){var e=ri(this,a);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return Hd(this,a)}}function Hd(a,e){var t=Ur.schema.call(a,{schema:{}},e);if(t){var s=t.schema,r=t.root,n=t.baseId,i=Wo.call(a,s,r,void 0,n);return a._fragments[e]=new Go({ref:e,fragment:!0,schema:s,root:r,baseId:n,validate:i}),i}}function ri(a,e){return e=Ur.normalizeId(e),a._schemas[e]||a._refs[e]||a._fragments[e]}function Qd(a){if(a instanceof RegExp)return sa(this,this._schemas,a),sa(this,this._refs,a),this;switch(typeof a){case"undefined":return sa(this,this._schemas),sa(this,this._refs),this._cache.clear(),this;case"string":var e=ri(this,a);return e&&this._cache.del(e.cacheKey),delete this._schemas[a],delete this._refs[a],this;case"object":var t=this._opts.serialize,s=t?t(a):a;this._cache.del(s);var r=this._getId(a);r&&(r=Ur.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function sa(a,e,t){for(var s in e){var r=e[s];!r.meta&&(!t||t.test(s))&&(a._cache.del(r.cacheKey),delete e[s])}}function Zd(a,e,t,s){if(typeof a!="object"&&typeof a!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,n=r?r(a):a,i=this._cache.get(n);if(i)return i;s=s||this._opts.addUsedSchema!==!1;var o=Ur.normalizeId(this._getId(a));o&&s&&ti(this,o);var f=this._opts.validateSchema!==!1&&!e,u;f&&!(u=o&&o==Ur.normalizeId(a.$schema))&&this.validateSchema(a,!0);var h=Ur.ids.call(this,a),m=new Go({id:o,schema:a,localRefs:h,cacheKey:n,meta:t});return o[0]!="#"&&s&&(this._refs[o]=m),this._cache.put(n,m),f&&u&&this.validateSchema(a,!0),m}function Bd(a,e){if(a.compiling)return a.validate=r,r.schema=a.schema,r.errors=null,r.root=e||r,a.schema.$async===!0&&(r.$async=!0),r;a.compiling=!0;var t;a.meta&&(t=this._opts,this._opts=this._metaOpts);var s;try{s=Wo.call(this,a.schema,e,a.localRefs)}catch(n){throw delete a.validate,n}finally{a.compiling=!1,a.meta&&(this._opts=t)}return a.validate=s,a.refs=s.refs,a.refVal=s.refVal,a.root=s.root,s;function r(){var n=a.validate,i=n.apply(this,arguments);return r.errors=n.errors,i}}function Jd(a){switch(a.schemaId){case"auto":return Gd;case"id":return Kd;default:return Wd}}function Kd(a){return a.$id&&this.logger.warn("schema $id ignored",a.$id),a.id}function Wd(a){return a.id&&this.logger.warn("schema id ignored",a.id),a.$id}function Gd(a){if(a.$id&&a.id&&a.$id!=a.id)throw new Error("schema $id is different from id");return a.$id||a.id}function Yd(a,e){if(a=a||this.errors,!a)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,s=e.dataVar===void 0?"data":e.dataVar,r="",n=0;n<a.length;n++){var i=a[n];i&&(r+=s+i.dataPath+" "+i.message+t)}return r.slice(0,-t.length)}function Xd(a,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[a]=e,this}function ef(a){var e;if(a._opts.$data&&(e=Jo(),a.addMetaSchema(e,e.$id,!0)),a._opts.meta!==!1){var t=es();a._opts.$data&&(t=Yo(t,Nd)),a.addMetaSchema(t,na,!0),a._refs["http://json-schema.org/schema"]=na}}function rf(a){var e=a._opts.schemas;if(e)if(Array.isArray(e))a.addSchema(e);else for(var t in e)a.addSchema(e[t],t)}function tf(a){for(var e in a._opts.formats){var t=a._opts.formats[e];a.addFormat(e,t)}}function af(a){for(var e in a._opts.keywords){var t=a._opts.keywords[e];a.addKeyword(e,t)}}function ti(a,e){if(a._schemas[e]||a._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function sf(a){for(var e=Xo.copy(a._opts),t=0;t<Ko.length;t++)delete e[Ko[t]];return e}function nf(a){var e=a._opts.logger;if(e===!1)a.logger={log:ts,warn:ts,error:ts};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");a.logger=e}}function ts(){}});var ui=z(($p,ci)=>{ci.exports=li;li.sync=lf;var oi=require("fs");function of(a,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var s=0;s<t.length;s++){var r=t[s].toLowerCase();if(r&&a.substr(-r.length).toLowerCase()===r)return!0}return!1}function ii(a,e,t){return!a.isSymbolicLink()&&!a.isFile()?!1:of(e,t)}function li(a,e,t){oi.stat(a,function(s,r){t(s,s?!1:ii(r,a,e))})}function lf(a,e){return ii(oi.statSync(a),a,e)}});var mi=z((Tp,pi)=>{pi.exports=fi;fi.sync=cf;var di=require("fs");function fi(a,e,t){di.stat(a,function(s,r){t(s,s?!1:hi(r,e))})}function cf(a,e){return hi(di.statSync(a),e)}function hi(a,e){return a.isFile()&&uf(a,e)}function uf(a,e){var t=a.mode,s=a.uid,r=a.gid,n=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),i=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),o=parseInt("100",8),f=parseInt("010",8),u=parseInt("001",8),h=o|f,m=t&u||t&f&&r===i||t&o&&s===n||t&h&&n===0;return m}});var gi=z((Cp,vi)=>{var Op=require("fs"),la;process.platform==="win32"||global.TESTING_WINDOWS?la=ui():la=mi();vi.exports=as;as.sync=df;function as(a,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(s,r){as(a,e||{},function(n,i){n?r(n):s(i)})})}la(a,e||{},function(s,r){s&&(s.code==="EACCES"||e&&e.ignoreErrors)&&(s=null,r=!1),t(s,r)})}function df(a,e){try{return la.sync(a,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var Si=z((Ip,Pi)=>{var nt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",yi=require("path"),ff=nt?";":":",_i=gi(),xi=a=>Object.assign(new Error(`not found: ${a}`),{code:"ENOENT"}),Ei=(a,e)=>{let t=e.colon||ff,s=a.match(/\//)||nt&&a.match(/\\/)?[""]:[...nt?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],r=nt?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",n=nt?r.split(t):[""];return nt&&a.indexOf(".")!==-1&&n[0]!==""&&n.unshift(""),{pathEnv:s,pathExt:n,pathExtExe:r}},bi=(a,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:s,pathExt:r,pathExtExe:n}=Ei(a,e),i=[],o=u=>new Promise((h,m)=>{if(u===s.length)return e.all&&i.length?h(i):m(xi(a));let x=s[u],c=/^".*"$/.test(x)?x.slice(1,-1):x,y=yi.join(c,a),g=!c&&/^\.[\\\/]/.test(a)?a.slice(0,2)+y:y;h(f(g,u,0))}),f=(u,h,m)=>new Promise((x,c)=>{if(m===r.length)return x(o(h+1));let y=r[m];_i(u+y,{pathExt:n},(g,v)=>{if(!g&&v)if(e.all)i.push(u+y);else return x(u+y);return x(f(u,h,m+1))})});return t?o(0).then(u=>t(null,u),t):o(0)},hf=(a,e)=>{e=e||{};let{pathEnv:t,pathExt:s,pathExtExe:r}=Ei(a,e),n=[];for(let i=0;i<t.length;i++){let o=t[i],f=/^".*"$/.test(o)?o.slice(1,-1):o,u=yi.join(f,a),h=!f&&/^\.[\\\/]/.test(a)?a.slice(0,2)+u:u;for(let m=0;m<s.length;m++){let x=h+s[m];try{if(_i.sync(x,{pathExt:r}))if(e.all)n.push(x);else return x}catch{}}}if(e.all&&n.length)return n;if(e.nothrow)return null;throw xi(a)};Pi.exports=bi;bi.sync=hf});var Ri=z((kp,ss)=>{"use strict";var wi=(a={})=>{let e=a.env||process.env;return(a.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(s=>s.toUpperCase()==="PATH")||"Path"};ss.exports=wi;ss.exports.default=wi});var Ci=z((Ap,Oi)=>{"use strict";var $i=require("path"),pf=Si(),mf=Ri();function Ti(a,e){let t=a.options.env||process.env,s=process.cwd(),r=a.options.cwd!=null,n=r&&process.chdir!==void 0&&!process.chdir.disabled;if(n)try{process.chdir(a.options.cwd)}catch{}let i;try{i=pf.sync(a.command,{path:t[mf({env:t})],pathExt:e?$i.delimiter:void 0})}catch{}finally{n&&process.chdir(s)}return i&&(i=$i.resolve(r?a.options.cwd:"",i)),i}function vf(a){return Ti(a)||Ti(a,!0)}Oi.exports=vf});var Ii=z((Dp,os)=>{"use strict";var ns=/([()\][%!^"`<>&|;, *?])/g;function gf(a){return a=a.replace(ns,"^$1"),a}function yf(a,e){return a=`${a}`,a=a.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),a=a.replace(/(?=(\\+?)?)\1$/,"$1$1"),a=`"${a}"`,a=a.replace(ns,"^$1"),e&&(a=a.replace(ns,"^$1")),a}os.exports.command=gf;os.exports.argument=yf});var Ai=z((jp,ki)=>{"use strict";ki.exports=/^#!(.*)/});var ji=z((Np,Di)=>{"use strict";var _f=Ai();Di.exports=(a="")=>{let e=a.match(_f);if(!e)return null;let[t,s]=e[0].replace(/#! ?/,"").split(" "),r=t.split("/").pop();return r==="env"?s:s?`${r} ${s}`:r}});var Fi=z((Fp,Ni)=>{"use strict";var is=require("fs"),xf=ji();function Ef(a){let t=Buffer.alloc(150),s;try{s=is.openSync(a,"r"),is.readSync(s,t,0,150,0),is.closeSync(s)}catch{}return xf(t.toString())}Ni.exports=Ef});var Vi=z((qp,Mi)=>{"use strict";var bf=require("path"),qi=Ci(),Li=Ii(),Pf=Fi(),Sf=process.platform==="win32",wf=/\.(?:com|exe)$/i,Rf=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function $f(a){a.file=qi(a);let e=a.file&&Pf(a.file);return e?(a.args.unshift(a.file),a.command=e,qi(a)):a.file}function Tf(a){if(!Sf)return a;let e=$f(a),t=!wf.test(e);if(a.options.forceShell||t){let s=Rf.test(e);a.command=bf.normalize(a.command),a.command=Li.command(a.command),a.args=a.args.map(n=>Li.argument(n,s));let r=[a.command].concat(a.args).join(" ");a.args=["/d","/s","/c",`"${r}"`],a.command=process.env.comspec||"cmd.exe",a.options.windowsVerbatimArguments=!0}return a}function Of(a,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let s={command:a,args:e,options:t,file:void 0,original:{command:a,args:e}};return t.shell?s:Tf(s)}Mi.exports=Of});var Hi=z((Lp,Ui)=>{"use strict";var ls=process.platform==="win32";function cs(a,e){return Object.assign(new Error(`${e} ${a.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${a.command}`,path:a.command,spawnargs:a.args})}function Cf(a,e){if(!ls)return;let t=a.emit;a.emit=function(s,r){if(s==="exit"){let n=zi(r,e);if(n)return t.call(a,"error",n)}return t.apply(a,arguments)}}function zi(a,e){return ls&&a===1&&!e.file?cs(e.original,"spawn"):null}function If(a,e){return ls&&a===1&&!e.file?cs(e.original,"spawnSync"):null}Ui.exports={hookChildProcess:Cf,verifyENOENT:zi,verifyENOENTSync:If,notFoundError:cs}});var Bi=z((Mp,ot)=>{"use strict";var Qi=require("child_process"),us=Vi(),ds=Hi();function Zi(a,e,t){let s=us(a,e,t),r=Qi.spawn(s.command,s.args,s.options);return ds.hookChildProcess(r,s),r}function kf(a,e,t){let s=us(a,e,t),r=Qi.spawnSync(s.command,s.args,s.options);return r.error=r.error||ds.verifyENOENTSync(r.status,s),r}ot.exports=Zi;ot.exports.spawn=Zi;ot.exports.sync=kf;ot.exports._parse=us;ot.exports._enoent=ds});var Mf={};Ss(Mf,{activate:()=>qf,deactivate:()=>Lf});module.exports=bl(Mf);var ke=pt(require("vscode"));var l={};Ss(l,{BRAND:()=>Jl,DIRTY:()=>wr,EMPTY_PATH:()=>Rl,INVALID:()=>Q,NEVER:()=>kc,OK:()=>Se,ParseStatus:()=>Ee,Schema:()=>K,ZodAny:()=>pr,ZodArray:()=>cr,ZodBigInt:()=>$r,ZodBoolean:()=>Tr,ZodBranded:()=>vt,ZodCatch:()=>Lr,ZodDate:()=>Or,ZodDefault:()=>qr,ZodDiscriminatedUnion:()=>Ct,ZodEffects:()=>Ve,ZodEnum:()=>Nr,ZodError:()=>Oe,ZodFirstPartyTypeKind:()=>Z,ZodFunction:()=>kt,ZodIntersection:()=>Ar,ZodIssueCode:()=>R,ZodLazy:()=>Dr,ZodLiteral:()=>jr,ZodMap:()=>tt,ZodNaN:()=>st,ZodNativeEnum:()=>Fr,ZodNever:()=>Be,ZodNull:()=>Ir,ZodNullable:()=>Xe,ZodNumber:()=>Rr,ZodObject:()=>Ce,ZodOptional:()=>Le,ZodParsedType:()=>D,ZodPipeline:()=>gt,ZodPromise:()=>mr,ZodReadonly:()=>Mr,ZodRecord:()=>It,ZodSchema:()=>K,ZodSet:()=>at,ZodString:()=>hr,ZodSymbol:()=>et,ZodTransformer:()=>Ve,ZodTuple:()=>Ye,ZodType:()=>K,ZodUndefined:()=>Cr,ZodUnion:()=>kr,ZodUnknown:()=>lr,ZodVoid:()=>rt,addIssueToContext:()=>A,any:()=>ac,array:()=>ic,bigint:()=>Yl,boolean:()=>Ns,coerce:()=>Ic,custom:()=>As,date:()=>Xl,datetimeRegex:()=>Is,defaultErrorMap:()=>or,discriminatedUnion:()=>dc,effect:()=>Pc,enum:()=>xc,function:()=>gc,getErrorMap:()=>Gr,getParsedType:()=>Ge,instanceof:()=>Wl,intersection:()=>fc,isAborted:()=>Tt,isAsync:()=>Yr,isDirty:()=>Ot,isValid:()=>fr,late:()=>Kl,lazy:()=>yc,literal:()=>_c,makeIssue:()=>mt,map:()=>mc,nan:()=>Gl,nativeEnum:()=>Ec,never:()=>nc,null:()=>tc,nullable:()=>wc,number:()=>js,object:()=>lc,objectUtil:()=>va,oboolean:()=>Cc,onumber:()=>Oc,optional:()=>Sc,ostring:()=>Tc,pipeline:()=>$c,preprocess:()=>Rc,promise:()=>bc,quotelessJson:()=>Pl,record:()=>pc,set:()=>vc,setErrorMap:()=>wl,strictObject:()=>cc,string:()=>Ds,symbol:()=>ec,transformer:()=>Pc,tuple:()=>hc,undefined:()=>rc,union:()=>uc,unknown:()=>sc,util:()=>Y,void:()=>oc});var Y;(function(a){a.assertEqual=r=>{};function e(r){}a.assertIs=e;function t(r){throw new Error}a.assertNever=t,a.arrayToEnum=r=>{let n={};for(let i of r)n[i]=i;return n},a.getValidEnumValues=r=>{let n=a.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),i={};for(let o of n)i[o]=r[o];return a.objectValues(i)},a.objectValues=r=>a.objectKeys(r).map(function(n){return r[n]}),a.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{let n=[];for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&n.push(i);return n},a.find=(r,n)=>{for(let i of r)if(n(i))return i},a.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function s(r,n=" | "){return r.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}a.joinValues=s,a.jsonStringifyReplacer=(r,n)=>typeof n=="bigint"?n.toString():n})(Y||(Y={}));var va;(function(a){a.mergeShapes=(e,t)=>({...e,...t})})(va||(va={}));var D=Y.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ge=a=>{switch(typeof a){case"undefined":return D.undefined;case"string":return D.string;case"number":return Number.isNaN(a)?D.nan:D.number;case"boolean":return D.boolean;case"function":return D.function;case"bigint":return D.bigint;case"symbol":return D.symbol;case"object":return Array.isArray(a)?D.array:a===null?D.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?D.promise:typeof Map<"u"&&a instanceof Map?D.map:typeof Set<"u"&&a instanceof Set?D.set:typeof Date<"u"&&a instanceof Date?D.date:D.object;default:return D.unknown}};var R=Y.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Pl=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:"),Oe=class a extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(n){return n.message},s={_errors:[]},r=n=>{for(let i of n.issues)if(i.code==="invalid_union")i.unionErrors.map(r);else if(i.code==="invalid_return_type")r(i.returnTypeError);else if(i.code==="invalid_arguments")r(i.argumentsError);else if(i.path.length===0)s._errors.push(t(i));else{let o=s,f=0;for(;f<i.path.length;){let u=i.path[f];f===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(i))):o[u]=o[u]||{_errors:[]},o=o[u],f++}}};return r(this),s}static assert(e){if(!(e instanceof a))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Y.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},s=[];for(let r of this.issues)if(r.path.length>0){let n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}};Oe.create=a=>new Oe(a);var Sl=(a,e)=>{let t;switch(a.code){case R.invalid_type:a.received===D.undefined?t="Required":t=`Expected ${a.expected}, received ${a.received}`;break;case R.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(a.expected,Y.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:t=`Unrecognized key(s) in object: ${Y.joinValues(a.keys,", ")}`;break;case R.invalid_union:t="Invalid input";break;case R.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Y.joinValues(a.options)}`;break;case R.invalid_enum_value:t=`Invalid enum value. Expected ${Y.joinValues(a.options)}, received '${a.received}'`;break;case R.invalid_arguments:t="Invalid function arguments";break;case R.invalid_return_type:t="Invalid function return type";break;case R.invalid_date:t="Invalid date";break;case R.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(t=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?t=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?t=`Invalid input: must end with "${a.validation.endsWith}"`:Y.assertNever(a.validation):a.validation!=="regex"?t=`Invalid ${a.validation}`:t="Invalid";break;case R.too_small:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="bigint"?t=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:t="Invalid input";break;case R.too_big:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?t=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:t="Invalid input";break;case R.custom:t="Invalid input";break;case R.invalid_intersection_types:t="Intersection results could not be merged";break;case R.not_multiple_of:t=`Number must be a multiple of ${a.multipleOf}`;break;case R.not_finite:t="Number must be finite";break;default:t=e.defaultError,Y.assertNever(a)}return{message:t}},or=Sl;var Rs=or;function wl(a){Rs=a}function Gr(){return Rs}var mt=a=>{let{data:e,path:t,errorMaps:s,issueData:r}=a,n=[...t,...r.path||[]],i={...r,path:n};if(r.message!==void 0)return{...r,path:n,message:r.message};let o="",f=s.filter(u=>!!u).slice().reverse();for(let u of f)o=u(i,{data:e,defaultError:o}).message;return{...r,path:n,message:o}},Rl=[];function A(a,e){let t=Gr(),s=mt({issueData:e,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,t,t===or?void 0:or].filter(r=>!!r)});a.common.issues.push(s)}var Ee=class a{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let s=[];for(let r of t){if(r.status==="aborted")return Q;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){let s=[];for(let r of t){let n=await r.key,i=await r.value;s.push({key:n,value:i})}return a.mergeObjectSync(e,s)}static mergeObjectSync(e,t){let s={};for(let r of t){let{key:n,value:i}=r;if(n.status==="aborted"||i.status==="aborted")return Q;n.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||r.alwaysSet)&&(s[n.value]=i.value)}return{status:e.value,value:s}}},Q=Object.freeze({status:"aborted"}),wr=a=>({status:"dirty",value:a}),Se=a=>({status:"valid",value:a}),Tt=a=>a.status==="aborted",Ot=a=>a.status==="dirty",fr=a=>a.status==="valid",Yr=a=>typeof Promise<"u"&&a instanceof Promise;var V;(function(a){a.errToObj=e=>typeof e=="string"?{message:e}:e||{},a.toString=e=>typeof e=="string"?e:e?.message})(V||(V={}));var Me=class{constructor(e,t,s,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},$s=(a,e)=>{if(fr(e))return{success:!0,data:e.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Oe(a.common.issues);return this._error=t,this._error}}};function B(a){if(!a)return{};let{errorMap:e,invalid_type_error:t,required_error:s,description:r}=a;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(i,o)=>{let{message:f}=a;return i.code==="invalid_enum_value"?{message:f??o.defaultError}:typeof o.data>"u"?{message:f??s??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:f??t??o.defaultError}},description:r}}var K=class{get description(){return this._def.description}_getType(e){return Ge(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ge(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ee,ctx:{common:e.parent.common,data:e.data,parsedType:Ge(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Yr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){let s={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ge(e)},r=this._parseSync({data:e,path:s.path,parent:s});return $s(s,r)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ge(e)};if(!this["~standard"].async)try{let s=this._parseSync({data:e,path:[],parent:t});return fr(s)?{value:s.value}:{issues:t.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>fr(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){let s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){let s={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ge(e)},r=this._parse({data:e,path:s.path,parent:s}),n=await(Yr(r)?r:Promise.resolve(r));return $s(s,n)}refine(e,t){let s=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,n)=>{let i=e(r),o=()=>n.addIssue({code:R.custom,...s(r)});return typeof Promise<"u"&&i instanceof Promise?i.then(f=>f?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof t=="function"?t(s,r):t),!1))}_refinement(e){return new Ve({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Le.create(this,this._def)}nullable(){return Xe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cr.create(this)}promise(){return mr.create(this,this._def)}or(e){return kr.create([this,e],this._def)}and(e){return Ar.create(this,e,this._def)}transform(e){return new Ve({...B(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new qr({...B(this._def),innerType:this,defaultValue:t,typeName:Z.ZodDefault})}brand(){return new vt({typeName:Z.ZodBranded,type:this,...B(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new Lr({...B(this._def),innerType:this,catchValue:t,typeName:Z.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return gt.create(this,e)}readonly(){return Mr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},$l=/^c[^\s-]{8,}$/i,Tl=/^[0-9a-z]+$/,Ol=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Cl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Il=/^[a-z0-9_-]{21}$/i,kl=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Al=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Dl=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jl="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",ga,Nl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Fl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ql=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ll=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ml=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Vl=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Os="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zl=new RegExp(`^${Os}$`);function Cs(a){let e="[0-5]\\d";a.precision?e=`${e}\\.\\d{${a.precision}}`:a.precision==null&&(e=`${e}(\\.\\d+)?`);let t=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Ul(a){return new RegExp(`^${Cs(a)}$`)}function Is(a){let e=`${Os}T${Cs(a)}`,t=[];return t.push(a.local?"Z?":"Z"),a.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Hl(a,e){return!!((e==="v4"||!e)&&Nl.test(a)||(e==="v6"||!e)&&ql.test(a))}function Ql(a,e){if(!kl.test(a))return!1;try{let[t]=a.split(".");if(!t)return!1;let s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||"typ"in r&&r?.typ!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function Zl(a,e){return!!((e==="v4"||!e)&&Fl.test(a)||(e==="v6"||!e)&&Ll.test(a))}var hr=class a extends K{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==D.string){let n=this._getOrReturnCtx(e);return A(n,{code:R.invalid_type,expected:D.string,received:n.parsedType}),Q}let s=new Ee,r;for(let n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(r=this._getOrReturnCtx(e,r),A(r,{code:R.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="max")e.data.length>n.value&&(r=this._getOrReturnCtx(e,r),A(r,{code:R.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="length"){let i=e.data.length>n.value,o=e.data.length<n.value;(i||o)&&(r=this._getOrReturnCtx(e,r),i?A(r,{code:R.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&A(r,{code:R.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),s.dirty())}else if(n.kind==="email")Dl.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"email",code:R.invalid_string,message:n.message}),s.dirty());else if(n.kind==="emoji")ga||(ga=new RegExp(jl,"u")),ga.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"emoji",code:R.invalid_string,message:n.message}),s.dirty());else if(n.kind==="uuid")Cl.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"uuid",code:R.invalid_string,message:n.message}),s.dirty());else if(n.kind==="nanoid")Il.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"nanoid",code:R.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid")$l.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"cuid",code:R.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid2")Tl.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"cuid2",code:R.invalid_string,message:n.message}),s.dirty());else if(n.kind==="ulid")Ol.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"ulid",code:R.invalid_string,message:n.message}),s.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),A(r,{validation:"url",code:R.invalid_string,message:n.message}),s.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"regex",code:R.invalid_string,message:n.message}),s.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(r=this._getOrReturnCtx(e,r),A(r,{code:R.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),s.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(r=this._getOrReturnCtx(e,r),A(r,{code:R.invalid_string,validation:{startsWith:n.value},message:n.message}),s.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(r=this._getOrReturnCtx(e,r),A(r,{code:R.invalid_string,validation:{endsWith:n.value},message:n.message}),s.dirty()):n.kind==="datetime"?Is(n).test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{code:R.invalid_string,validation:"datetime",message:n.message}),s.dirty()):n.kind==="date"?zl.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{code:R.invalid_string,validation:"date",message:n.message}),s.dirty()):n.kind==="time"?Ul(n).test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{code:R.invalid_string,validation:"time",message:n.message}),s.dirty()):n.kind==="duration"?Al.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"duration",code:R.invalid_string,message:n.message}),s.dirty()):n.kind==="ip"?Hl(e.data,n.version)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"ip",code:R.invalid_string,message:n.message}),s.dirty()):n.kind==="jwt"?Ql(e.data,n.alg)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"jwt",code:R.invalid_string,message:n.message}),s.dirty()):n.kind==="cidr"?Zl(e.data,n.version)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"cidr",code:R.invalid_string,message:n.message}),s.dirty()):n.kind==="base64"?Ml.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"base64",code:R.invalid_string,message:n.message}),s.dirty()):n.kind==="base64url"?Vl.test(e.data)||(r=this._getOrReturnCtx(e,r),A(r,{validation:"base64url",code:R.invalid_string,message:n.message}),s.dirty()):Y.assertNever(n);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(r=>e.test(r),{validation:t,code:R.invalid_string,...V.errToObj(s)})}_addCheck(e){return new a({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...V.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...V.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...V.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...V.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...V.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...V.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...V.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...V.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...V.errToObj(t)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new a({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new a({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new a({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};hr.create=a=>new hr({checks:[],typeName:Z.ZodString,coerce:a?.coerce??!1,...B(a)});function Bl(a,e){let t=(a.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=t>s?t:s,n=Number.parseInt(a.toFixed(r).replace(".","")),i=Number.parseInt(e.toFixed(r).replace(".",""));return n%i/10**r}var Rr=class a extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==D.number){let n=this._getOrReturnCtx(e);return A(n,{code:R.invalid_type,expected:D.number,received:n.parsedType}),Q}let s,r=new Ee;for(let n of this._def.checks)n.kind==="int"?Y.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),A(s,{code:R.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),A(s,{code:R.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),A(s,{code:R.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):n.kind==="multipleOf"?Bl(e.data,n.value)!==0&&(s=this._getOrReturnCtx(e,s),A(s,{code:R.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),A(s,{code:R.not_finite,message:n.message}),r.dirty()):Y.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,V.toString(t))}gt(e,t){return this.setLimit("min",e,!1,V.toString(t))}lte(e,t){return this.setLimit("max",e,!0,V.toString(t))}lt(e,t){return this.setLimit("max",e,!1,V.toString(t))}setLimit(e,t,s,r){return new a({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:V.toString(r)}]})}_addCheck(e){return new a({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Y.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}};Rr.create=a=>new Rr({checks:[],typeName:Z.ZodNumber,coerce:a?.coerce||!1,...B(a)});var $r=class a extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==D.bigint)return this._getInvalidInput(e);let s,r=new Ee;for(let n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),A(s,{code:R.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),A(s,{code:R.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),A(s,{code:R.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):Y.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return A(t,{code:R.invalid_type,expected:D.bigint,received:t.parsedType}),Q}gte(e,t){return this.setLimit("min",e,!0,V.toString(t))}gt(e,t){return this.setLimit("min",e,!1,V.toString(t))}lte(e,t){return this.setLimit("max",e,!0,V.toString(t))}lt(e,t){return this.setLimit("max",e,!1,V.toString(t))}setLimit(e,t,s,r){return new a({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:V.toString(r)}]})}_addCheck(e){return new a({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};$r.create=a=>new $r({checks:[],typeName:Z.ZodBigInt,coerce:a?.coerce??!1,...B(a)});var Tr=class extends K{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==D.boolean){let s=this._getOrReturnCtx(e);return A(s,{code:R.invalid_type,expected:D.boolean,received:s.parsedType}),Q}return Se(e.data)}};Tr.create=a=>new Tr({typeName:Z.ZodBoolean,coerce:a?.coerce||!1,...B(a)});var Or=class a extends K{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==D.date){let n=this._getOrReturnCtx(e);return A(n,{code:R.invalid_type,expected:D.date,received:n.parsedType}),Q}if(Number.isNaN(e.data.getTime())){let n=this._getOrReturnCtx(e);return A(n,{code:R.invalid_date}),Q}let s=new Ee,r;for(let n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),A(r,{code:R.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),s.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),A(r,{code:R.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),s.dirty()):Y.assertNever(n);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new a({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Or.create=a=>new Or({checks:[],coerce:a?.coerce||!1,typeName:Z.ZodDate,...B(a)});var et=class extends K{_parse(e){if(this._getType(e)!==D.symbol){let s=this._getOrReturnCtx(e);return A(s,{code:R.invalid_type,expected:D.symbol,received:s.parsedType}),Q}return Se(e.data)}};et.create=a=>new et({typeName:Z.ZodSymbol,...B(a)});var Cr=class extends K{_parse(e){if(this._getType(e)!==D.undefined){let s=this._getOrReturnCtx(e);return A(s,{code:R.invalid_type,expected:D.undefined,received:s.parsedType}),Q}return Se(e.data)}};Cr.create=a=>new Cr({typeName:Z.ZodUndefined,...B(a)});var Ir=class extends K{_parse(e){if(this._getType(e)!==D.null){let s=this._getOrReturnCtx(e);return A(s,{code:R.invalid_type,expected:D.null,received:s.parsedType}),Q}return Se(e.data)}};Ir.create=a=>new Ir({typeName:Z.ZodNull,...B(a)});var pr=class extends K{constructor(){super(...arguments),this._any=!0}_parse(e){return Se(e.data)}};pr.create=a=>new pr({typeName:Z.ZodAny,...B(a)});var lr=class extends K{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Se(e.data)}};lr.create=a=>new lr({typeName:Z.ZodUnknown,...B(a)});var Be=class extends K{_parse(e){let t=this._getOrReturnCtx(e);return A(t,{code:R.invalid_type,expected:D.never,received:t.parsedType}),Q}};Be.create=a=>new Be({typeName:Z.ZodNever,...B(a)});var rt=class extends K{_parse(e){if(this._getType(e)!==D.undefined){let s=this._getOrReturnCtx(e);return A(s,{code:R.invalid_type,expected:D.void,received:s.parsedType}),Q}return Se(e.data)}};rt.create=a=>new rt({typeName:Z.ZodVoid,...B(a)});var cr=class a extends K{_parse(e){let{ctx:t,status:s}=this._processInputParams(e),r=this._def;if(t.parsedType!==D.array)return A(t,{code:R.invalid_type,expected:D.array,received:t.parsedType}),Q;if(r.exactLength!==null){let i=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(i||o)&&(A(t,{code:i?R.too_big:R.too_small,minimum:o?r.exactLength.value:void 0,maximum:i?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(A(t,{code:R.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(A(t,{code:R.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>r.type._parseAsync(new Me(t,i,t.path,o)))).then(i=>Ee.mergeArray(s,i));let n=[...t.data].map((i,o)=>r.type._parseSync(new Me(t,i,t.path,o)));return Ee.mergeArray(s,n)}get element(){return this._def.type}min(e,t){return new a({...this._def,minLength:{value:e,message:V.toString(t)}})}max(e,t){return new a({...this._def,maxLength:{value:e,message:V.toString(t)}})}length(e,t){return new a({...this._def,exactLength:{value:e,message:V.toString(t)}})}nonempty(e){return this.min(1,e)}};cr.create=(a,e)=>new cr({type:a,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...B(e)});function Xr(a){if(a instanceof Ce){let e={};for(let t in a.shape){let s=a.shape[t];e[t]=Le.create(Xr(s))}return new Ce({...a._def,shape:()=>e})}else return a instanceof cr?new cr({...a._def,type:Xr(a.element)}):a instanceof Le?Le.create(Xr(a.unwrap())):a instanceof Xe?Xe.create(Xr(a.unwrap())):a instanceof Ye?Ye.create(a.items.map(e=>Xr(e))):a}var Ce=class a extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Y.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==D.object){let u=this._getOrReturnCtx(e);return A(u,{code:R.invalid_type,expected:D.object,received:u.parsedType}),Q}let{status:s,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Be&&this._def.unknownKeys==="strip"))for(let u in r.data)i.includes(u)||o.push(u);let f=[];for(let u of i){let h=n[u],m=r.data[u];f.push({key:{status:"valid",value:u},value:h._parse(new Me(r,m,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Be){let u=this._def.unknownKeys;if(u==="passthrough")for(let h of o)f.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(u==="strict")o.length>0&&(A(r,{code:R.unrecognized_keys,keys:o}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let h of o){let m=r.data[h];f.push({key:{status:"valid",value:h},value:u._parse(new Me(r,m,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let u=[];for(let h of f){let m=await h.key,x=await h.value;u.push({key:m,value:x,alwaysSet:h.alwaysSet})}return u}).then(u=>Ee.mergeObjectSync(s,u)):Ee.mergeObjectSync(s,f)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new a({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{let r=this._def.errorMap?.(t,s).message??s.defaultError;return t.code==="unrecognized_keys"?{message:V.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new a({...this._def,unknownKeys:"strip"})}passthrough(){return new a({...this._def,unknownKeys:"passthrough"})}extend(e){return new a({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new a({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Z.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new a({...this._def,catchall:e})}pick(e){let t={};for(let s of Y.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new a({...this._def,shape:()=>t})}omit(e){let t={};for(let s of Y.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new a({...this._def,shape:()=>t})}deepPartial(){return Xr(this)}partial(e){let t={};for(let s of Y.objectKeys(this.shape)){let r=this.shape[s];e&&!e[s]?t[s]=r:t[s]=r.optional()}return new a({...this._def,shape:()=>t})}required(e){let t={};for(let s of Y.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let n=this.shape[s];for(;n instanceof Le;)n=n._def.innerType;t[s]=n}return new a({...this._def,shape:()=>t})}keyof(){return ks(Y.objectKeys(this.shape))}};Ce.create=(a,e)=>new Ce({shape:()=>a,unknownKeys:"strip",catchall:Be.create(),typeName:Z.ZodObject,...B(e)});Ce.strictCreate=(a,e)=>new Ce({shape:()=>a,unknownKeys:"strict",catchall:Be.create(),typeName:Z.ZodObject,...B(e)});Ce.lazycreate=(a,e)=>new Ce({shape:a,unknownKeys:"strip",catchall:Be.create(),typeName:Z.ZodObject,...B(e)});var kr=class extends K{_parse(e){let{ctx:t}=this._processInputParams(e),s=this._def.options;function r(n){for(let o of n)if(o.result.status==="valid")return o.result;for(let o of n)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;let i=n.map(o=>new Oe(o.ctx.common.issues));return A(t,{code:R.invalid_union,unionErrors:i}),Q}if(t.common.async)return Promise.all(s.map(async n=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await n._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(r);{let n,i=[];for(let f of s){let u={...t,common:{...t.common,issues:[]},parent:null},h=f._parseSync({data:t.data,path:t.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!n&&(n={result:h,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(n)return t.common.issues.push(...n.ctx.common.issues),n.result;let o=i.map(f=>new Oe(f));return A(t,{code:R.invalid_union,unionErrors:o}),Q}}get options(){return this._def.options}};kr.create=(a,e)=>new kr({options:a,typeName:Z.ZodUnion,...B(e)});var ir=a=>a instanceof Dr?ir(a.schema):a instanceof Ve?ir(a.innerType()):a instanceof jr?[a.value]:a instanceof Nr?a.options:a instanceof Fr?Y.objectValues(a.enum):a instanceof qr?ir(a._def.innerType):a instanceof Cr?[void 0]:a instanceof Ir?[null]:a instanceof Le?[void 0,...ir(a.unwrap())]:a instanceof Xe?[null,...ir(a.unwrap())]:a instanceof vt||a instanceof Mr?ir(a.unwrap()):a instanceof Lr?ir(a._def.innerType):[],Ct=class a extends K{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==D.object)return A(t,{code:R.invalid_type,expected:D.object,received:t.parsedType}),Q;let s=this.discriminator,r=t.data[s],n=this.optionsMap.get(r);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(A(t,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){let r=new Map;for(let n of t){let i=ir(n.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of i){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,n)}}return new a({typeName:Z.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...B(s)})}};function ya(a,e){let t=Ge(a),s=Ge(e);if(a===e)return{valid:!0,data:a};if(t===D.object&&s===D.object){let r=Y.objectKeys(e),n=Y.objectKeys(a).filter(o=>r.indexOf(o)!==-1),i={...a,...e};for(let o of n){let f=ya(a[o],e[o]);if(!f.valid)return{valid:!1};i[o]=f.data}return{valid:!0,data:i}}else if(t===D.array&&s===D.array){if(a.length!==e.length)return{valid:!1};let r=[];for(let n=0;n<a.length;n++){let i=a[n],o=e[n],f=ya(i,o);if(!f.valid)return{valid:!1};r.push(f.data)}return{valid:!0,data:r}}else return t===D.date&&s===D.date&&+a==+e?{valid:!0,data:a}:{valid:!1}}var Ar=class extends K{_parse(e){let{status:t,ctx:s}=this._processInputParams(e),r=(n,i)=>{if(Tt(n)||Tt(i))return Q;let o=ya(n.value,i.value);return o.valid?((Ot(n)||Ot(i))&&t.dirty(),{status:t.value,value:o.data}):(A(s,{code:R.invalid_intersection_types}),Q)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([n,i])=>r(n,i)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};Ar.create=(a,e,t)=>new Ar({left:a,right:e,typeName:Z.ZodIntersection,...B(t)});var Ye=class a extends K{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==D.array)return A(s,{code:R.invalid_type,expected:D.array,received:s.parsedType}),Q;if(s.data.length<this._def.items.length)return A(s,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&s.data.length>this._def.items.length&&(A(s,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...s.data].map((i,o)=>{let f=this._def.items[o]||this._def.rest;return f?f._parse(new Me(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(n).then(i=>Ee.mergeArray(t,i)):Ee.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new a({...this._def,rest:e})}};Ye.create=(a,e)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ye({items:a,typeName:Z.ZodTuple,rest:null,...B(e)})};var It=class a extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==D.object)return A(s,{code:R.invalid_type,expected:D.object,received:s.parsedType}),Q;let r=[],n=this._def.keyType,i=this._def.valueType;for(let o in s.data)r.push({key:n._parse(new Me(s,o,s.path,o)),value:i._parse(new Me(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?Ee.mergeObjectAsync(t,r):Ee.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof K?new a({keyType:e,valueType:t,typeName:Z.ZodRecord,...B(s)}):new a({keyType:hr.create(),valueType:e,typeName:Z.ZodRecord,...B(t)})}},tt=class extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==D.map)return A(s,{code:R.invalid_type,expected:D.map,received:s.parsedType}),Q;let r=this._def.keyType,n=this._def.valueType,i=[...s.data.entries()].map(([o,f],u)=>({key:r._parse(new Me(s,o,s.path,[u,"key"])),value:n._parse(new Me(s,f,s.path,[u,"value"]))}));if(s.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let f of i){let u=await f.key,h=await f.value;if(u.status==="aborted"||h.status==="aborted")return Q;(u.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(u.value,h.value)}return{status:t.value,value:o}})}else{let o=new Map;for(let f of i){let u=f.key,h=f.value;if(u.status==="aborted"||h.status==="aborted")return Q;(u.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(u.value,h.value)}return{status:t.value,value:o}}}};tt.create=(a,e,t)=>new tt({valueType:e,keyType:a,typeName:Z.ZodMap,...B(t)});var at=class a extends K{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==D.set)return A(s,{code:R.invalid_type,expected:D.set,received:s.parsedType}),Q;let r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(A(s,{code:R.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(A(s,{code:R.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let n=this._def.valueType;function i(f){let u=new Set;for(let h of f){if(h.status==="aborted")return Q;h.status==="dirty"&&t.dirty(),u.add(h.value)}return{status:t.value,value:u}}let o=[...s.data.values()].map((f,u)=>n._parse(new Me(s,f,s.path,u)));return s.common.async?Promise.all(o).then(f=>i(f)):i(o)}min(e,t){return new a({...this._def,minSize:{value:e,message:V.toString(t)}})}max(e,t){return new a({...this._def,maxSize:{value:e,message:V.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};at.create=(a,e)=>new at({valueType:a,minSize:null,maxSize:null,typeName:Z.ZodSet,...B(e)});var kt=class a extends K{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==D.function)return A(t,{code:R.invalid_type,expected:D.function,received:t.parsedType}),Q;function s(o,f){return mt({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gr(),or].filter(u=>!!u),issueData:{code:R.invalid_arguments,argumentsError:f}})}function r(o,f){return mt({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gr(),or].filter(u=>!!u),issueData:{code:R.invalid_return_type,returnTypeError:f}})}let n={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof mr){let o=this;return Se(async function(...f){let u=new Oe([]),h=await o._def.args.parseAsync(f,n).catch(c=>{throw u.addIssue(s(f,c)),u}),m=await Reflect.apply(i,this,h);return await o._def.returns._def.type.parseAsync(m,n).catch(c=>{throw u.addIssue(r(m,c)),u})})}else{let o=this;return Se(function(...f){let u=o._def.args.safeParse(f,n);if(!u.success)throw new Oe([s(f,u.error)]);let h=Reflect.apply(i,this,u.data),m=o._def.returns.safeParse(h,n);if(!m.success)throw new Oe([r(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new a({...this._def,args:Ye.create(e).rest(lr.create())})}returns(e){return new a({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new a({args:e||Ye.create([]).rest(lr.create()),returns:t||lr.create(),typeName:Z.ZodFunction,...B(s)})}},Dr=class extends K{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Dr.create=(a,e)=>new Dr({getter:a,typeName:Z.ZodLazy,...B(e)});var jr=class extends K{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return A(t,{received:t.data,code:R.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:e.data}}get value(){return this._def.value}};jr.create=(a,e)=>new jr({value:a,typeName:Z.ZodLiteral,...B(e)});function ks(a,e){return new Nr({values:a,typeName:Z.ZodEnum,...B(e)})}var Nr=class a extends K{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),s=this._def.values;return A(t,{expected:Y.joinValues(s),received:t.parsedType,code:R.invalid_type}),Q}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),s=this._def.values;return A(t,{received:t.data,code:R.invalid_enum_value,options:s}),Q}return Se(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return a.create(e,{...this._def,...t})}exclude(e,t=this._def){return a.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}};Nr.create=ks;var Fr=class extends K{_parse(e){let t=Y.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==D.string&&s.parsedType!==D.number){let r=Y.objectValues(t);return A(s,{expected:Y.joinValues(r),received:s.parsedType,code:R.invalid_type}),Q}if(this._cache||(this._cache=new Set(Y.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let r=Y.objectValues(t);return A(s,{received:s.data,code:R.invalid_enum_value,options:r}),Q}return Se(e.data)}get enum(){return this._def.values}};Fr.create=(a,e)=>new Fr({values:a,typeName:Z.ZodNativeEnum,...B(e)});var mr=class extends K{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==D.promise&&t.common.async===!1)return A(t,{code:R.invalid_type,expected:D.promise,received:t.parsedType}),Q;let s=t.parsedType===D.promise?t.data:Promise.resolve(t.data);return Se(s.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}};mr.create=(a,e)=>new mr({type:a,typeName:Z.ZodPromise,...B(e)});var Ve=class extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:s}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:i=>{A(s,i),i.fatal?t.abort():t.dirty()},get path(){return s.path}};if(n.addIssue=n.addIssue.bind(n),r.type==="preprocess"){let i=r.transform(s.data,n);if(s.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return Q;let f=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return f.status==="aborted"?Q:f.status==="dirty"?wr(f.value):t.value==="dirty"?wr(f.value):f});{if(t.value==="aborted")return Q;let o=this._def.schema._parseSync({data:i,path:s.path,parent:s});return o.status==="aborted"?Q:o.status==="dirty"?wr(o.value):t.value==="dirty"?wr(o.value):o}}if(r.type==="refinement"){let i=o=>{let f=r.refinement(o,n);if(s.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Q:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?Q:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(r.type==="transform")if(s.common.async===!1){let i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!fr(i))return Q;let o=r.transform(i.value,n);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>fr(i)?Promise.resolve(r.transform(i.value,n)).then(o=>({status:t.value,value:o})):Q);Y.assertNever(r)}};Ve.create=(a,e,t)=>new Ve({schema:a,typeName:Z.ZodEffects,effect:e,...B(t)});Ve.createWithPreprocess=(a,e,t)=>new Ve({schema:e,effect:{type:"preprocess",transform:a},typeName:Z.ZodEffects,...B(t)});var Le=class extends K{_parse(e){return this._getType(e)===D.undefined?Se(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Le.create=(a,e)=>new Le({innerType:a,typeName:Z.ZodOptional,...B(e)});var Xe=class extends K{_parse(e){return this._getType(e)===D.null?Se(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Xe.create=(a,e)=>new Xe({innerType:a,typeName:Z.ZodNullable,...B(e)});var qr=class extends K{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return t.parsedType===D.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};qr.create=(a,e)=>new qr({innerType:a,typeName:Z.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...B(e)});var Lr=class extends K{_parse(e){let{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Yr(r)?r.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Oe(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Oe(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};Lr.create=(a,e)=>new Lr({innerType:a,typeName:Z.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...B(e)});var st=class extends K{_parse(e){if(this._getType(e)!==D.nan){let s=this._getOrReturnCtx(e);return A(s,{code:R.invalid_type,expected:D.nan,received:s.parsedType}),Q}return{status:"valid",value:e.data}}};st.create=a=>new st({typeName:Z.ZodNaN,...B(a)});var Jl=Symbol("zod_brand"),vt=class extends K{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}},gt=class a extends K{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let n=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?Q:n.status==="dirty"?(t.dirty(),wr(n.value)):this._def.out._parseAsync({data:n.value,path:s.path,parent:s})})();{let r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?Q:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,t){return new a({in:e,out:t,typeName:Z.ZodPipeline})}},Mr=class extends K{_parse(e){let t=this._def.innerType._parse(e),s=r=>(fr(r)&&(r.value=Object.freeze(r.value)),r);return Yr(t)?t.then(r=>s(r)):s(t)}unwrap(){return this._def.innerType}};Mr.create=(a,e)=>new Mr({innerType:a,typeName:Z.ZodReadonly,...B(e)});function Ts(a,e){let t=typeof a=="function"?a(e):typeof a=="string"?{message:a}:a;return typeof t=="string"?{message:t}:t}function As(a,e={},t){return a?pr.create().superRefine((s,r)=>{let n=a(s);if(n instanceof Promise)return n.then(i=>{if(!i){let o=Ts(e,s),f=o.fatal??t??!0;r.addIssue({code:"custom",...o,fatal:f})}});if(!n){let i=Ts(e,s),o=i.fatal??t??!0;r.addIssue({code:"custom",...i,fatal:o})}}):pr.create()}var Kl={object:Ce.lazycreate},Z;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(Z||(Z={}));var Wl=(a,e={message:`Input not instance of ${a.name}`})=>As(t=>t instanceof a,e),Ds=hr.create,js=Rr.create,Gl=st.create,Yl=$r.create,Ns=Tr.create,Xl=Or.create,ec=et.create,rc=Cr.create,tc=Ir.create,ac=pr.create,sc=lr.create,nc=Be.create,oc=rt.create,ic=cr.create,lc=Ce.create,cc=Ce.strictCreate,uc=kr.create,dc=Ct.create,fc=Ar.create,hc=Ye.create,pc=It.create,mc=tt.create,vc=at.create,gc=kt.create,yc=Dr.create,_c=jr.create,xc=Nr.create,Ec=Fr.create,bc=mr.create,Pc=Ve.create,Sc=Le.create,wc=Xe.create,Rc=Ve.createWithPreprocess,$c=gt.create,Tc=()=>Ds().optional(),Oc=()=>js().optional(),Cc=()=>Ns().optional(),Ic={string:a=>hr.create({...a,coerce:!0}),number:a=>Rr.create({...a,coerce:!0}),boolean:a=>Tr.create({...a,coerce:!0}),bigint:a=>$r.create({...a,coerce:!0}),date:a=>Or.create({...a,coerce:!0})};var kc=Q;var _a="2025-06-18";var Fs=[_a,"2025-03-26","2024-11-05","2024-10-07"],At="2.0",qs=l.union([l.string(),l.number().int()]),Ls=l.string(),Ac=l.object({progressToken:l.optional(qs)}).passthrough(),He=l.object({_meta:l.optional(Ac)}).passthrough(),Ie=l.object({method:l.string(),params:l.optional(He)}),yt=l.object({_meta:l.optional(l.object({}).passthrough())}).passthrough(),er=l.object({method:l.string(),params:l.optional(yt)}),Qe=l.object({_meta:l.optional(l.object({}).passthrough())}).passthrough(),Dt=l.union([l.string(),l.number().int()]),Ms=l.object({jsonrpc:l.literal(At),id:Dt}).merge(Ie).strict(),Vs=a=>Ms.safeParse(a).success,zs=l.object({jsonrpc:l.literal(At)}).merge(er).strict(),Us=a=>zs.safeParse(a).success,Hs=l.object({jsonrpc:l.literal(At),id:Dt,result:Qe}).strict(),xa=a=>Hs.safeParse(a).success,ze;(function(a){a[a.ConnectionClosed=-32e3]="ConnectionClosed",a[a.RequestTimeout=-32001]="RequestTimeout",a[a.ParseError=-32700]="ParseError",a[a.InvalidRequest=-32600]="InvalidRequest",a[a.MethodNotFound=-32601]="MethodNotFound",a[a.InvalidParams=-32602]="InvalidParams",a[a.InternalError=-32603]="InternalError"})(ze||(ze={}));var Qs=l.object({jsonrpc:l.literal(At),id:Dt,error:l.object({code:l.number().int(),message:l.string(),data:l.optional(l.unknown())})}).strict(),Zs=a=>Qs.safeParse(a).success,Bs=l.union([Ms,zs,Hs,Qs]),Vr=Qe.strict(),jt=er.extend({method:l.literal("notifications/cancelled"),params:yt.extend({requestId:Dt,reason:l.string().optional()})}),Nt=l.object({src:l.string(),mimeType:l.optional(l.string()),sizes:l.optional(l.string())}).passthrough(),_t=l.object({name:l.string(),title:l.optional(l.string())}).passthrough(),Js=_t.extend({version:l.string(),websiteUrl:l.optional(l.string()),icons:l.optional(l.array(Nt))}),Dc=l.object({experimental:l.optional(l.object({}).passthrough()),sampling:l.optional(l.object({}).passthrough()),elicitation:l.optional(l.object({}).passthrough()),roots:l.optional(l.object({listChanged:l.optional(l.boolean())}).passthrough())}).passthrough(),jc=Ie.extend({method:l.literal("initialize"),params:He.extend({protocolVersion:l.string(),capabilities:Dc,clientInfo:Js})});var Nc=l.object({experimental:l.optional(l.object({}).passthrough()),logging:l.optional(l.object({}).passthrough()),completions:l.optional(l.object({}).passthrough()),prompts:l.optional(l.object({listChanged:l.optional(l.boolean())}).passthrough()),resources:l.optional(l.object({subscribe:l.optional(l.boolean()),listChanged:l.optional(l.boolean())}).passthrough()),tools:l.optional(l.object({listChanged:l.optional(l.boolean())}).passthrough())}).passthrough(),Ea=Qe.extend({protocolVersion:l.string(),capabilities:Nc,serverInfo:Js,instructions:l.optional(l.string())}),Fc=er.extend({method:l.literal("notifications/initialized")});var Ft=Ie.extend({method:l.literal("ping")}),qc=l.object({progress:l.number(),total:l.optional(l.number()),message:l.optional(l.string())}).passthrough(),qt=er.extend({method:l.literal("notifications/progress"),params:yt.merge(qc).extend({progressToken:qs})}),Lt=Ie.extend({params:He.extend({cursor:l.optional(Ls)}).optional()}),Mt=Qe.extend({nextCursor:l.optional(Ls)}),Ks=l.object({uri:l.string(),mimeType:l.optional(l.string()),_meta:l.optional(l.object({}).passthrough())}).passthrough(),Ws=Ks.extend({text:l.string()}),ba=l.string().refine(a=>{try{return atob(a),!0}catch{return!1}},{message:"Invalid Base64 string"}),Gs=Ks.extend({blob:ba}),Ys=_t.extend({uri:l.string(),description:l.optional(l.string()),mimeType:l.optional(l.string()),icons:l.optional(l.array(Nt)),_meta:l.optional(l.object({}).passthrough())}),Lc=_t.extend({uriTemplate:l.string(),description:l.optional(l.string()),mimeType:l.optional(l.string()),_meta:l.optional(l.object({}).passthrough())}),Mc=Lt.extend({method:l.literal("resources/list")}),Pa=Mt.extend({resources:l.array(Ys)}),Vc=Lt.extend({method:l.literal("resources/templates/list")}),Sa=Mt.extend({resourceTemplates:l.array(Lc)}),zc=Ie.extend({method:l.literal("resources/read"),params:He.extend({uri:l.string()})}),wa=Qe.extend({contents:l.array(l.union([Ws,Gs]))}),Uc=er.extend({method:l.literal("notifications/resources/list_changed")}),Hc=Ie.extend({method:l.literal("resources/subscribe"),params:He.extend({uri:l.string()})}),Qc=Ie.extend({method:l.literal("resources/unsubscribe"),params:He.extend({uri:l.string()})}),Zc=er.extend({method:l.literal("notifications/resources/updated"),params:yt.extend({uri:l.string()})}),Bc=l.object({name:l.string(),description:l.optional(l.string()),required:l.optional(l.boolean())}).passthrough(),Jc=_t.extend({description:l.optional(l.string()),arguments:l.optional(l.array(Bc)),icons:l.optional(l.array(Nt)),_meta:l.optional(l.object({}).passthrough())}),Kc=Lt.extend({method:l.literal("prompts/list")}),Ra=Mt.extend({prompts:l.array(Jc)}),Wc=Ie.extend({method:l.literal("prompts/get"),params:He.extend({name:l.string(),arguments:l.optional(l.record(l.string()))})}),$a=l.object({type:l.literal("text"),text:l.string(),_meta:l.optional(l.object({}).passthrough())}).passthrough(),Ta=l.object({type:l.literal("image"),data:ba,mimeType:l.string(),_meta:l.optional(l.object({}).passthrough())}).passthrough(),Oa=l.object({type:l.literal("audio"),data:ba,mimeType:l.string(),_meta:l.optional(l.object({}).passthrough())}).passthrough(),Gc=l.object({type:l.literal("resource"),resource:l.union([Ws,Gs]),_meta:l.optional(l.object({}).passthrough())}).passthrough(),Yc=Ys.extend({type:l.literal("resource_link")}),Xs=l.union([$a,Ta,Oa,Yc,Gc]),Xc=l.object({role:l.enum(["user","assistant"]),content:Xs}).passthrough(),Ca=Qe.extend({description:l.optional(l.string()),messages:l.array(Xc)}),eu=er.extend({method:l.literal("notifications/prompts/list_changed")}),ru=l.object({title:l.optional(l.string()),readOnlyHint:l.optional(l.boolean()),destructiveHint:l.optional(l.boolean()),idempotentHint:l.optional(l.boolean()),openWorldHint:l.optional(l.boolean())}).passthrough(),tu=_t.extend({description:l.optional(l.string()),inputSchema:l.object({type:l.literal("object"),properties:l.optional(l.object({}).passthrough()),required:l.optional(l.array(l.string()))}).passthrough(),outputSchema:l.optional(l.object({type:l.literal("object"),properties:l.optional(l.object({}).passthrough()),required:l.optional(l.array(l.string()))}).passthrough()),annotations:l.optional(ru),icons:l.optional(l.array(Nt)),_meta:l.optional(l.object({}).passthrough())}),au=Lt.extend({method:l.literal("tools/list")}),Ia=Mt.extend({tools:l.array(tu)}),Vt=Qe.extend({content:l.array(Xs).default([]),structuredContent:l.object({}).passthrough().optional(),isError:l.optional(l.boolean())}),Ph=Vt.or(Qe.extend({toolResult:l.unknown()})),su=Ie.extend({method:l.literal("tools/call"),params:He.extend({name:l.string(),arguments:l.optional(l.record(l.unknown()))})}),nu=er.extend({method:l.literal("notifications/tools/list_changed")}),en=l.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),ou=Ie.extend({method:l.literal("logging/setLevel"),params:He.extend({level:en})}),iu=er.extend({method:l.literal("notifications/message"),params:yt.extend({level:en,logger:l.optional(l.string()),data:l.unknown()})}),lu=l.object({name:l.string().optional()}).passthrough(),cu=l.object({hints:l.optional(l.array(lu)),costPriority:l.optional(l.number().min(0).max(1)),speedPriority:l.optional(l.number().min(0).max(1)),intelligencePriority:l.optional(l.number().min(0).max(1))}).passthrough(),uu=l.object({role:l.enum(["user","assistant"]),content:l.union([$a,Ta,Oa])}).passthrough(),du=Ie.extend({method:l.literal("sampling/createMessage"),params:He.extend({messages:l.array(uu),systemPrompt:l.optional(l.string()),includeContext:l.optional(l.enum(["none","thisServer","allServers"])),temperature:l.optional(l.number()),maxTokens:l.number().int(),stopSequences:l.optional(l.array(l.string())),metadata:l.optional(l.object({}).passthrough()),modelPreferences:l.optional(cu)})}),fu=Qe.extend({model:l.string(),stopReason:l.optional(l.enum(["endTurn","stopSequence","maxTokens"]).or(l.string())),role:l.enum(["user","assistant"]),content:l.discriminatedUnion("type",[$a,Ta,Oa])}),hu=l.object({type:l.literal("boolean"),title:l.optional(l.string()),description:l.optional(l.string()),default:l.optional(l.boolean())}).passthrough(),pu=l.object({type:l.literal("string"),title:l.optional(l.string()),description:l.optional(l.string()),minLength:l.optional(l.number()),maxLength:l.optional(l.number()),format:l.optional(l.enum(["email","uri","date","date-time"]))}).passthrough(),mu=l.object({type:l.enum(["number","integer"]),title:l.optional(l.string()),description:l.optional(l.string()),minimum:l.optional(l.number()),maximum:l.optional(l.number())}).passthrough(),vu=l.object({type:l.literal("string"),title:l.optional(l.string()),description:l.optional(l.string()),enum:l.array(l.string()),enumNames:l.optional(l.array(l.string()))}).passthrough(),gu=l.union([hu,pu,mu,vu]),yu=Ie.extend({method:l.literal("elicitation/create"),params:He.extend({message:l.string(),requestedSchema:l.object({type:l.literal("object"),properties:l.record(l.string(),gu),required:l.optional(l.array(l.string()))}).passthrough()})}),_u=Qe.extend({action:l.enum(["accept","decline","cancel"]),content:l.optional(l.record(l.string(),l.unknown()))}),xu=l.object({type:l.literal("ref/resource"),uri:l.string()}).passthrough();var Eu=l.object({type:l.literal("ref/prompt"),name:l.string()}).passthrough(),bu=Ie.extend({method:l.literal("completion/complete"),params:He.extend({ref:l.union([Eu,xu]),argument:l.object({name:l.string(),value:l.string()}).passthrough(),context:l.optional(l.object({arguments:l.optional(l.record(l.string(),l.string()))}))})}),ka=Qe.extend({completion:l.object({values:l.array(l.string()).max(100),total:l.optional(l.number().int()),hasMore:l.optional(l.boolean())}).passthrough()}),Pu=l.object({uri:l.string().startsWith("file://"),name:l.optional(l.string()),_meta:l.optional(l.object({}).passthrough())}).passthrough(),Su=Ie.extend({method:l.literal("roots/list")}),wu=Qe.extend({roots:l.array(Pu)}),Ru=er.extend({method:l.literal("notifications/roots/list_changed")}),Sh=l.union([Ft,jc,bu,ou,Wc,Kc,Mc,Vc,zc,Hc,Qc,su,au]),wh=l.union([jt,qt,Fc,Ru]),Rh=l.union([Vr,fu,_u,wu]),$h=l.union([Ft,du,yu,Su]),Th=l.union([jt,qt,iu,Zc,Uc,nu,eu]),Oh=l.union([Vr,Ea,ka,Ca,Ra,Pa,Sa,wa,Vt,Ia]),Ue=class extends Error{constructor(e,t,s){super(`MCP error ${e}: ${t}`),this.code=e,this.data=s,this.name="McpError"}};var $u=6e4,zt=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(jt,t=>{let s=this._requestHandlerAbortControllers.get(t.params.requestId);s?.abort(t.params.reason)}),this.setNotificationHandler(qt,t=>{this._onprogress(t)}),this.setRequestHandler(Ft,t=>({}))}_setupTimeout(e,t,s,r,n=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(r,t),startTime:Date.now(),timeout:t,maxTotalTimeout:s,resetTimeoutOnProgress:n,onTimeout:r})}_resetTimeout(e){let t=this._timeoutInfo.get(e);if(!t)return!1;let s=Date.now()-t.startTime;if(t.maxTotalTimeout&&s>=t.maxTotalTimeout)throw this._timeoutInfo.delete(e),new Ue(ze.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:t.maxTotalTimeout,totalElapsed:s});return clearTimeout(t.timeoutId),t.timeoutId=setTimeout(t.onTimeout,t.timeout),!0}_cleanupTimeout(e){let t=this._timeoutInfo.get(e);t&&(clearTimeout(t.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var t,s,r;this._transport=e;let n=(t=this.transport)===null||t===void 0?void 0:t.onclose;this._transport.onclose=()=>{n?.(),this._onclose()};let i=(s=this.transport)===null||s===void 0?void 0:s.onerror;this._transport.onerror=f=>{i?.(f),this._onerror(f)};let o=(r=this._transport)===null||r===void 0?void 0:r.onmessage;this._transport.onmessage=(f,u)=>{o?.(f,u),xa(f)||Zs(f)?this._onresponse(f):Vs(f)?this._onrequest(f,u):Us(f)?this._onnotification(f):this._onerror(new Error(`Unknown message type: ${JSON.stringify(f)}`))},await this._transport.start()}_onclose(){var e;let t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);let s=new Ue(ze.ConnectionClosed,"Connection closed");for(let r of t.values())r(s)}_onerror(e){var t;(t=this.onerror)===null||t===void 0||t.call(this,e)}_onnotification(e){var t;let s=(t=this._notificationHandlers.get(e.method))!==null&&t!==void 0?t:this.fallbackNotificationHandler;s!==void 0&&Promise.resolve().then(()=>s(e)).catch(r=>this._onerror(new Error(`Uncaught error in notification handler: ${r}`)))}_onrequest(e,t){var s,r;let n=(s=this._requestHandlers.get(e.method))!==null&&s!==void 0?s:this.fallbackRequestHandler,i=this._transport;if(n===void 0){i?.send({jsonrpc:"2.0",id:e.id,error:{code:ze.MethodNotFound,message:"Method not found"}}).catch(u=>this._onerror(new Error(`Failed to send an error response: ${u}`)));return}let o=new AbortController;this._requestHandlerAbortControllers.set(e.id,o);let f={signal:o.signal,sessionId:i?.sessionId,_meta:(r=e.params)===null||r===void 0?void 0:r._meta,sendNotification:u=>this.notification(u,{relatedRequestId:e.id}),sendRequest:(u,h,m)=>this.request(u,h,{...m,relatedRequestId:e.id}),authInfo:t?.authInfo,requestId:e.id,requestInfo:t?.requestInfo};Promise.resolve().then(()=>n(e,f)).then(u=>{if(!o.signal.aborted)return i?.send({result:u,jsonrpc:"2.0",id:e.id})},u=>{var h;if(!o.signal.aborted)return i?.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(u.code)?u.code:ze.InternalError,message:(h=u.message)!==null&&h!==void 0?h:"Internal error"}})}).catch(u=>this._onerror(new Error(`Failed to send response: ${u}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:t,...s}=e.params,r=Number(t),n=this._progressHandlers.get(r);if(!n){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let i=this._responseHandlers.get(r),o=this._timeoutInfo.get(r);if(o&&i&&o.resetTimeoutOnProgress)try{this._resetTimeout(r)}catch(f){i(f);return}n(s)}_onresponse(e){let t=Number(e.id),s=this._responseHandlers.get(t);if(s===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}if(this._responseHandlers.delete(t),this._progressHandlers.delete(t),this._cleanupTimeout(t),xa(e))s(e);else{let r=new Ue(e.error.code,e.error.message,e.error.data);s(r)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}request(e,t,s){let{relatedRequestId:r,resumptionToken:n,onresumptiontoken:i}=s??{};return new Promise((o,f)=>{var u,h,m,x,c,y;if(!this._transport){f(new Error("Not connected"));return}((u=this._options)===null||u===void 0?void 0:u.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(e.method),(h=s?.signal)===null||h===void 0||h.throwIfAborted();let g=this._requestMessageId++,v={...e,jsonrpc:"2.0",id:g};s?.onprogress&&(this._progressHandlers.set(g,s.onprogress),v.params={...e.params,_meta:{...((m=e.params)===null||m===void 0?void 0:m._meta)||{},progressToken:g}});let b=$=>{var O;this._responseHandlers.delete(g),this._progressHandlers.delete(g),this._cleanupTimeout(g),(O=this._transport)===null||O===void 0||O.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:g,reason:String($)}},{relatedRequestId:r,resumptionToken:n,onresumptiontoken:i}).catch(C=>this._onerror(new Error(`Failed to send cancellation: ${C}`))),f($)};this._responseHandlers.set(g,$=>{var O;if(!(!((O=s?.signal)===null||O===void 0)&&O.aborted)){if($ instanceof Error)return f($);try{let C=t.parse($.result);o(C)}catch(C){f(C)}}}),(x=s?.signal)===null||x===void 0||x.addEventListener("abort",()=>{var $;b(($=s?.signal)===null||$===void 0?void 0:$.reason)});let w=(c=s?.timeout)!==null&&c!==void 0?c:$u,S=()=>b(new Ue(ze.RequestTimeout,"Request timed out",{timeout:w}));this._setupTimeout(g,w,s?.maxTotalTimeout,S,(y=s?.resetTimeoutOnProgress)!==null&&y!==void 0?y:!1),this._transport.send(v,{relatedRequestId:r,resumptionToken:n,onresumptiontoken:i}).catch($=>{this._cleanupTimeout(g),f($)})})}async notification(e,t){var s,r;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(e.method),((r=(s=this._options)===null||s===void 0?void 0:s.debouncedNotificationMethods)!==null&&r!==void 0?r:[]).includes(e.method)&&!e.params&&!t?.relatedRequestId){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var f;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let u={...e,jsonrpc:"2.0"};(f=this._transport)===null||f===void 0||f.send(u,t).catch(h=>this._onerror(h))});return}let o={...e,jsonrpc:"2.0"};await this._transport.send(o,t)}setRequestHandler(e,t){let s=e.shape.method.value;this.assertRequestHandlerCapability(s),this._requestHandlers.set(s,(r,n)=>Promise.resolve(t(e.parse(r),n)))}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,t){this._notificationHandlers.set(e.shape.method.value,s=>Promise.resolve(t(e.parse(s))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}};function rn(a,e){return Object.entries(e).reduce((t,[s,r])=>(r&&typeof r=="object"?t[s]=t[s]?{...t[s],...r}:r:t[s]=r,t),{...a})}var ni=pt(si(),1),ia=class extends zt{constructor(e,t){var s;super(t),this._clientInfo=e,this._cachedToolOutputValidators=new Map,this._capabilities=(s=t?.capabilities)!==null&&s!==void 0?s:{},this._ajv=new ni.default}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=rn(this._capabilities,e)}assertCapability(e,t){var s;if(!(!((s=this._serverCapabilities)===null||s===void 0)&&s[e]))throw new Error(`Server does not support ${e} (required for ${t})`)}async connect(e,t){if(await super.connect(e),e.sessionId===void 0)try{let s=await this.request({method:"initialize",params:{protocolVersion:_a,capabilities:this._capabilities,clientInfo:this._clientInfo}},Ea,t);if(s===void 0)throw new Error(`Server sent invalid initialize result: ${s}`);if(!Fs.includes(s.protocolVersion))throw new Error(`Server's protocol version is not supported: ${s.protocolVersion}`);this._serverCapabilities=s.capabilities,this._serverVersion=s.serverInfo,e.setProtocolVersion&&e.setProtocolVersion(s.protocolVersion),this._instructions=s.instructions,await this.notification({method:"notifications/initialized"})}catch(s){throw this.close(),s}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(e){var t,s,r,n,i;switch(e){case"logging/setLevel":if(!(!((t=this._serverCapabilities)===null||t===void 0)&&t.logging))throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!(!((s=this._serverCapabilities)===null||s===void 0)&&s.prompts))throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(!((r=this._serverCapabilities)===null||r===void 0)&&r.resources))throw new Error(`Server does not support resources (required for ${e})`);if(e==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${e})`);break;case"tools/call":case"tools/list":if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n.tools))throw new Error(`Server does not support tools (required for ${e})`);break;case"completion/complete":if(!(!((i=this._serverCapabilities)===null||i===void 0)&&i.completions))throw new Error(`Server does not support completions (required for ${e})`);break;case"initialize":break;case"ping":break}}assertNotificationCapability(e){var t;switch(e){case"notifications/roots/list_changed":if(!(!((t=this._capabilities.roots)===null||t===void 0)&&t.listChanged))throw new Error(`Client does not support roots list changed notifications (required for ${e})`);break;case"notifications/initialized":break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${e})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw new Error(`Client does not support elicitation capability (required for ${e})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${e})`);break;case"ping":break}}async ping(e){return this.request({method:"ping"},Vr,e)}async complete(e,t){return this.request({method:"completion/complete",params:e},ka,t)}async setLoggingLevel(e,t){return this.request({method:"logging/setLevel",params:{level:e}},Vr,t)}async getPrompt(e,t){return this.request({method:"prompts/get",params:e},Ca,t)}async listPrompts(e,t){return this.request({method:"prompts/list",params:e},Ra,t)}async listResources(e,t){return this.request({method:"resources/list",params:e},Pa,t)}async listResourceTemplates(e,t){return this.request({method:"resources/templates/list",params:e},Sa,t)}async readResource(e,t){return this.request({method:"resources/read",params:e},wa,t)}async subscribeResource(e,t){return this.request({method:"resources/subscribe",params:e},Vr,t)}async unsubscribeResource(e,t){return this.request({method:"resources/unsubscribe",params:e},Vr,t)}async callTool(e,t=Vt,s){let r=await this.request({method:"tools/call",params:e},t,s),n=this.getToolOutputValidator(e.name);if(n){if(!r.structuredContent&&!r.isError)throw new Ue(ze.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`);if(r.structuredContent)try{if(!n(r.structuredContent))throw new Ue(ze.InvalidParams,`Structured content does not match the tool's output schema: ${this._ajv.errorsText(n.errors)}`)}catch(i){throw i instanceof Ue?i:new Ue(ze.InvalidParams,`Failed to validate structured content: ${i instanceof Error?i.message:String(i)}`)}}return r}cacheToolOutputSchemas(e){this._cachedToolOutputValidators.clear();for(let t of e)if(t.outputSchema)try{let s=this._ajv.compile(t.outputSchema);this._cachedToolOutputValidators.set(t.name,s)}catch{}}getToolOutputValidator(e){return this._cachedToolOutputValidators.get(e)}async listTools(e,t){let s=await this.request({method:"tools/list",params:e},Ia,t);return this.cacheToolOutputSchemas(s.tools),s}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}};var Ki=pt(Bi(),1),Et=pt(require("node:process"),1),Wi=require("node:stream");var ca=class{append(e){this._buffer=this._buffer?Buffer.concat([this._buffer,e]):e}readMessage(){if(!this._buffer)return null;let e=this._buffer.indexOf(`
`);if(e===-1)return null;let t=this._buffer.toString("utf8",0,e).replace(/\r$/,"");return this._buffer=this._buffer.subarray(e+1),Af(t)}clear(){this._buffer=void 0}};function Af(a){return Bs.parse(JSON.parse(a))}function Ji(a){return JSON.stringify(a)+`
`}var Df=Et.default.platform==="win32"?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE","PROGRAMFILES"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"];function jf(){let a={};for(let e of Df){let t=Et.default.env[e];t!==void 0&&(t.startsWith("()")||(a[e]=t))}return a}var ua=class{constructor(e){this._abortController=new AbortController,this._readBuffer=new ca,this._stderrStream=null,this._serverParams=e,(e.stderr==="pipe"||e.stderr==="overlapped")&&(this._stderrStream=new Wi.PassThrough)}async start(){if(this._process)throw new Error("StdioClientTransport already started! If using Client class, note that connect() calls start() automatically.");return new Promise((e,t)=>{var s,r,n,i,o;this._process=(0,Ki.default)(this._serverParams.command,(s=this._serverParams.args)!==null&&s!==void 0?s:[],{env:{...jf(),...this._serverParams.env},stdio:["pipe","pipe",(r=this._serverParams.stderr)!==null&&r!==void 0?r:"inherit"],shell:!1,signal:this._abortController.signal,windowsHide:Et.default.platform==="win32"&&Nf(),cwd:this._serverParams.cwd}),this._process.on("error",f=>{var u,h;if(f.name==="AbortError"){(u=this.onclose)===null||u===void 0||u.call(this);return}t(f),(h=this.onerror)===null||h===void 0||h.call(this,f)}),this._process.on("spawn",()=>{e()}),this._process.on("close",f=>{var u;this._process=void 0,(u=this.onclose)===null||u===void 0||u.call(this)}),(n=this._process.stdin)===null||n===void 0||n.on("error",f=>{var u;(u=this.onerror)===null||u===void 0||u.call(this,f)}),(i=this._process.stdout)===null||i===void 0||i.on("data",f=>{this._readBuffer.append(f),this.processReadBuffer()}),(o=this._process.stdout)===null||o===void 0||o.on("error",f=>{var u;(u=this.onerror)===null||u===void 0||u.call(this,f)}),this._stderrStream&&this._process.stderr&&this._process.stderr.pipe(this._stderrStream)})}get stderr(){var e,t;return this._stderrStream?this._stderrStream:(t=(e=this._process)===null||e===void 0?void 0:e.stderr)!==null&&t!==void 0?t:null}get pid(){var e,t;return(t=(e=this._process)===null||e===void 0?void 0:e.pid)!==null&&t!==void 0?t:null}processReadBuffer(){for(var e,t;;)try{let s=this._readBuffer.readMessage();if(s===null)break;(e=this.onmessage)===null||e===void 0||e.call(this,s)}catch(s){(t=this.onerror)===null||t===void 0||t.call(this,s)}}async close(){this._abortController.abort(),this._process=void 0,this._readBuffer.clear()}send(e){return new Promise(t=>{var s;if(!(!((s=this._process)===null||s===void 0)&&s.stdin))throw new Error("Not connected");let r=Ji(e);this._process.stdin.write(r)?t():this._process.stdin.once("drain",t)})}};function Nf(){return"type"in Et.default}var Gi=pt(require("path")),bt=null,da="";async function Ff(){if(bt)return bt;try{let a=new ua({command:"/opt/homebrew/anaconda3/bin/python",args:["/Users/asrajag/Workspace/mem0/server/mcp_server.py"]});return bt=new ia({name:"mem0-vscode",version:"1.0.0"},{capabilities:{}}),await bt.connect(a),bt}catch(a){return console.error("Failed to initialize MCP client:",a),null}}function qf(a){console.log("mem0 extension activating..."),ke.window.showInformationMessage("mem0 extension is activating!");let e=(s,r,n,i)=>new Promise(async o=>{n.markdown(`**Extension activated - processing request: "${s.prompt}"**

`);let f=await Ff();if(!f)return n.markdown(`\u274C **Failed to connect to mem0 MCP server**

`),o({commands:[]});let u,m=ke.workspace.getConfiguration("mem0").get("context");if(da)u=da;else if(m)u=m;else if(ke.workspace.workspaceFolders&&ke.workspace.workspaceFolders.length>0){let g=ke.workspace.workspaceFolders[0];u=Gi.basename(g.uri.fsPath)}else u="vscode-session";if(s.prompt.trim().startsWith("context ")){let g=s.prompt.trim().split(/\s+/).slice(1),v=g[0];if(v==="start"&&g[1]){da=g[1],u=da,n.markdown(`\u{1F3AF} **Started context:** \`${u}\`

`);try{let b=await f.callTool({name:"context_start",arguments:{context_name:u}});n.markdown(`\u2705 **${b.content[0].text}**

`)}catch(b){n.markdown(`\u274C **Failed to start context:** ${b.message}

`)}}else if(v==="list"){try{let w=(await f.callTool({name:"list_contexts",arguments:{}})).content[0].text;n.markdown(`**Available Contexts:**
${Array.isArray(w)?w.join(`
`):w}

`)}catch(b){n.markdown(`\u274C **Failed to list contexts:** ${b.message}

`)}return o({commands:[]})}else if(v==="switch"&&g[1])u=g[1],n.markdown(`\u{1F3AF} **Switched to context:** \`${u}\`

`);else return n.markdown("**Usage:**\n- `@mem0 context start <name>` - Start new context\n- `@mem0 context switch <name>` - Switch to existing context\n- `@mem0 context list` - List all contexts\n\n"),o({commands:[]})}if(n.markdown(`\u{1F3AF} **Context:** \`${u}\`

`),s.prompt.trim()==="observe"){n.markdown(`Observing chat history...

`);for(let g of r.history)g instanceof ke.ChatResponseTurn&&n.markdown(`- Found a response from **@${g.participant}**
`);return o({commands:[]})}let[x,...c]=s.prompt.trim().split(/\s+/),y;try{let g;if(x==="remember")g=await f.callTool({name:"remember",arguments:{text:c.join(" "),context:u}}),n.markdown(`**Result:** ${g.content[0].text}

`);else if(x==="recall"){let v=c.length>0?c.join(" "):u;g=await f.callTool({name:"recall",arguments:{context:v}});let b=g.content[0].text;Array.isArray(b)&&b.length>0?(n.markdown(`**Found ${b.length} memories:**

`),b.forEach((w,S)=>{n.markdown(`${S+1}. **${w.type}** (${w.context||"no context"})
`),w.data&&w.data.text&&n.markdown(`   ${w.data.text}
`),n.markdown(`   *Created: ${w.created_at}*

`)})):n.markdown(`**No memories found in context:** ${v}

`)}else if(x==="contexts"){g=await f.callTool({name:"list_contexts",arguments:{}});let v=g.content[0].text;n.markdown(`**Available Contexts:**
${Array.isArray(v)?v.join(`
`):v}

`)}else n.markdown(`**Unknown command:** ${x}

`)}catch(g){n.markdown(`\u274C **Error:** ${g.message}

`)}o({commands:[]})}),t=ke.chat.createChatParticipant("mem0",e);t.iconPath=new ke.ThemeIcon("beaker"),a.subscriptions.push(t),console.log("mem0 extension activated successfully"),ke.window.showInformationMessage("mem0 extension activated successfully!")}function Lf(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)
*/
